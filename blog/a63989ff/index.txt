1:"$Sreact.fragment"
2:I[4615,["874","static/chunks/874-ac0c32a4a9a6131e.js","177","static/chunks/app/layout-aa9facf8c991085d.js"],"default"]
3:I[7555,[],""]
4:I[1295,[],""]
6:I[9665,[],"MetadataBoundary"]
8:I[9665,[],"OutletBoundary"]
b:I[4911,[],"AsyncMetadataOutlet"]
d:I[9665,[],"ViewportBoundary"]
f:I[6614,[],""]
:HL["/github-blog/_next/static/css/f13864532fe49912.css","style"]
:HL["/github-blog/_next/static/css/9977e1cbb75c82aa.css","style"]
0:{"P":null,"b":"PsahSZRVuFaRsqDSv3j8u","p":"/github-blog","c":["","blog","a63989ff",""],"i":false,"f":[[["",{"children":["blog",{"children":[["slugHash","a63989ff","d"],{"children":["__PAGE__",{}]}]}]},"$undefined","$undefined",true],["",["$","$1","c",{"children":[[["$","link","0",{"rel":"stylesheet","href":"/github-blog/_next/static/css/f13864532fe49912.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}]],["$","html",null,{"lang":"kr","children":["$","body",null,{"children":[["$","$L2",null,{}],["$","main",null,{"children":["$","$L3",null,{"parallelRouterKey":"children","error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L4",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":[[["$","title",null,{"children":"404: This page could not be found."}],["$","div",null,{"style":{"fontFamily":"system-ui,\"Segoe UI\",Roboto,Helvetica,Arial,sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\"","height":"100vh","textAlign":"center","display":"flex","flexDirection":"column","alignItems":"center","justifyContent":"center"},"children":["$","div",null,{"children":[["$","style",null,{"dangerouslySetInnerHTML":{"__html":"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}"}}],["$","h1",null,{"className":"next-error-h1","style":{"display":"inline-block","margin":"0 20px 0 0","padding":"0 23px 0 0","fontSize":24,"fontWeight":500,"verticalAlign":"top","lineHeight":"49px"},"children":404}],["$","div",null,{"style":{"display":"inline-block"},"children":["$","h2",null,{"style":{"fontSize":14,"fontWeight":400,"lineHeight":"49px","margin":0},"children":"This page could not be found."}]}]]}]}]],[]],"forbidden":"$undefined","unauthorized":"$undefined"}]}]]}]}]]}],{"children":["blog",["$","$1","c",{"children":[null,["$","$L3",null,{"parallelRouterKey":"children","error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L4",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","forbidden":"$undefined","unauthorized":"$undefined"}]]}],{"children":[["slugHash","a63989ff","d"],["$","$1","c",{"children":[null,["$","$L3",null,{"parallelRouterKey":"children","error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L4",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","forbidden":"$undefined","unauthorized":"$undefined"}]]}],{"children":["__PAGE__",["$","$1","c",{"children":["$L5",["$","$L6",null,{"children":"$L7"}],[["$","link","0",{"rel":"stylesheet","href":"/github-blog/_next/static/css/9977e1cbb75c82aa.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}]],["$","$L8",null,{"children":["$L9","$La",["$","$Lb",null,{"promise":"$@c"}]]}]]}],{},null,false]},null,false]},null,false]},null,false],["$","$1","h",{"children":[null,["$","$1","ansiCeSJdjXG4kbda1wnP",{"children":[["$","$Ld",null,{"children":"$Le"}],null]}],null]}],false]],"m":"$undefined","G":["$f","$undefined"],"s":false,"S":true}
10:"$Sreact.suspense"
11:I[4911,[],"AsyncMetadata"]
7:["$","$10",null,{"fallback":null,"children":["$","$L11",null,{"promise":"$@12"}]}]
a:null
13:I[733,["63","static/chunks/63-df0ec183627b3631.js","727","static/chunks/727-6368b5a9647a1769.js","401","static/chunks/app/blog/%5BslugHash%5D/page-ae6b75d4d7185f4d.js"],"default"]
14:T50e4,<h1 style="color: #82AAFF;">
                  <span style="font-size: initial; color: #F0C292; margin-right: 0.5em;">h1</span>
                  검증
                </h1>
<ul>
<li><a href="/github-blog/blog/dd5c85f5">@Validated</a> 통해서 사용</li>
<li>보통 <a href="/github-blog/blog/9cdc016c">Bean Validation</a>로 만들어져있고 Spring 의 <a href="/github-blog/blog/710e8f82">Validator</a>  와 다른 것이기 때문에 이걸 해결하기 위해<code>Validator</code>로 만들어져있고 Spring 의 [[2.Ref(데이터 및 정보 저장)/Spring/Validator/Validator|Validator]]  와 다른 것이기 때문에 이걸 해결하기 위해</li>
<li><a href="#">LocalValidatorFactoryBean</a> 사용하여 Spring 의 <a href="/github-blog/blog/710e8f82">Validator</a> 인척하고 사용됨</li>
<li>검증된 결과는 <a href="/github-blog/blog/0429bddc">BindingResult</a> 에서 확인 가능
<ul>
<li>데이터 타입 문제가 발생할 경우 <a href="#">WebDataBinder</a> 으로 분석되는지 <a href="/github-blog/blog/f9416c12">HttpMessageConverter</a> 으로 분석되는지에 따라서 데이터 타입 분석이 될지 말지 분간됨</li>
</ul>
</li>
</ul>
<h2 style="color: #C3E88D;">
                  <span style="font-size: initial; color: #F0C292; margin-right: 0.5em;">h2</span>
                  흐름도
                </h2>

        <div class="custom-code-block">
          
        <div class="custom-code-block-header">
          <div class="custom-code-block-header-left">
            <div class="custom-code-block-lang">
              
              <span class="custom-code-block-lang-text">plantuml</span>
            </div>
            
          </div>
          <div class="custom-code-block-header-right">
            <div class="custom-code-block-actions">
              <button class="copy-code-button" title="Copy code">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg>
              </button>
            </div>
          </div>
        </div>
      
          <pre><code class="language-plantuml hljs"><span class="line"><span class="hljs-variable">@startuml</span></span><span class="line">title 상세 검증 및 변환 흐름 (<span class="hljs-title class_">ArgumentResolver</span> 중심)</span><span class="line">&nbsp;</span><span class="line">start</span><span class="line">&nbsp;</span><span class="line"><span class="hljs-symbol">:HTTP</span> 요청 접수 (<span class="hljs-title class_">DispatcherServlet</span>);</span><span class="line">&nbsp;</span><span class="line"><span class="hljs-symbol">:</span>컨트롤러 파라미터 분석 후</span><span class="line">**<span class="hljs-title class_">ArgumentResolver</span> 선택**;</span><span class="line">note right</span><span class="line">  <span class="hljs-variable">@ModelAttribute</span> -&gt; <span class="hljs-title class_">ModelAttributeMethodProcessor</span></span><span class="line">  <span class="hljs-variable">@RequestBody</span> -&gt; <span class="hljs-title class_">RequestResponseBodyMethodProcessor</span></span><span class="line"><span class="hljs-keyword">end</span> note</span><span class="line">&nbsp;</span><span class="line"><span class="hljs-keyword">if</span> (<span class="hljs-title class_">ModelAttributeMethodProcessor</span>?) <span class="hljs-keyword">then</span> (yes)</span><span class="line">    partition <span class="hljs-string">&quot;경로 A: WebDataBinder&quot;</span> {</span><span class="line">        <span class="hljs-symbol">:WebDataBinder</span> 생성 및 <span class="hljs-variable">@InitBinder</span> 설정;</span><span class="line">        <span class="hljs-symbol">:</span>필드별 바인딩 &amp; 타입 변환;</span><span class="line">        <span class="hljs-keyword">if</span> (타입 변환 실패<span class="hljs-string">?)</span> <span class="hljs-keyword">then</span> (yes)</span><span class="line">            <span class="hljs-symbol">:BindingResult</span>에 <span class="hljs-string">&#x27;typeMismatch&#x27;</span> 에러 추가;</span><span class="line">        endif</span><span class="line">        <span class="hljs-keyword">if</span> (<span class="hljs-variable">@Validated</span> 존재<span class="hljs-string">?)</span> <span class="hljs-keyword">then</span> (yes)</span><span class="line">            <span class="hljs-symbol">:</span>등록된 <span class="hljs-title class_">Validator</span>(<span class="hljs-title class_">Bean</span> <span class="hljs-title class_">Validation</span> 등) 실행;</span><span class="line">            <span class="hljs-keyword">if</span> (검증 실패<span class="hljs-string">?)</span> <span class="hljs-keyword">then</span> (yes)</span><span class="line">                <span class="hljs-symbol">:BindingResult</span>에 검증 에러 추가;</span><span class="line">            endif</span><span class="line">        endif</span><span class="line">    }</span><span class="line"><span class="hljs-keyword">else</span> (<span class="hljs-title class_">RequestResponseBodyMethodProcessor</span>?)</span><span class="line">    partition <span class="hljs-string">&quot;경로 B: HttpMessageConverter&quot;</span> {</span><span class="line">        <span class="hljs-symbol">:Content-Type</span>에 맞는 <span class="hljs-title class_">HttpMessageConverter</span> 실행;</span><span class="line">        <span class="hljs-keyword">if</span> (객체 변환 실패 (타입 불일치 등)<span class="hljs-string">?)</span> <span class="hljs-keyword">then</span> (yes)</span><span class="line">            <span class="hljs-symbol">:</span><span class="hljs-number">400</span> <span class="hljs-title class_">Bad</span> <span class="hljs-title class_">Request</span> 응답;</span><span class="line">            stop</span><span class="line">        endif</span><span class="line">        <span class="hljs-keyword">if</span> (<span class="hljs-variable">@Validated</span> 존재<span class="hljs-string">?)</span> <span class="hljs-keyword">then</span> (yes)</span><span class="line">            <span class="hljs-symbol">:Bean</span> <span class="hljs-title class_">Validation</span> 실행;</span><span class="line">            <span class="hljs-keyword">if</span> (검증 실패<span class="hljs-string">?)</span> <span class="hljs-keyword">then</span> (yes)</span><span class="line">                <span class="hljs-symbol">:</span><span class="hljs-number">400</span> <span class="hljs-title class_">Bad</span> <span class="hljs-title class_">Request</span> 응답;</span><span class="line">                stop</span><span class="line">            endif</span><span class="line">        endif</span><span class="line">    }</span><span class="line">endif</span><span class="line">&nbsp;</span><span class="line"><span class="hljs-symbol">:Controller</span> 메소드 호출;</span><span class="line">&nbsp;</span><span class="line">stop</span><span class="line">&nbsp;</span><span class="line">@enduml</span></code></pre>
        </div>
      
<ul>
<li><a href="/github-blog/blog/f9416c12">HttpMessageConverter</a> 쪽으로 가게 되면 <a href="/github-blog/blog/0429bddc">BindingResult</a> 사용할 수 없음
<ul>
<li><a href="/github-blog/blog/f9416c12">HttpMessageConverter</a> 쪽은 <a href="/github-blog/blog/7d08fd5c">@RequestBody</a> 등은 <a href="/github-blog/blog/f1ab32e7">@RestControllerAdvice</a> 와 <a href="/github-blog/blog/0420368e">@ExceptionHandler</a> 에서 처리 가능</li>
</ul>
</li>
</ul>

        <div class="custom-code-block">
          
        <div class="custom-code-block-header">
          <div class="custom-code-block-header-left">
            <div class="custom-code-block-lang">
              <span class="custom-code-block-icon"><svg xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 50 50" width="50px" height="50px"><title>Java</title><path d="M 28.1875 0 C 30.9375 6.363281 18.328125 10.292969 17.15625 15.59375 C 16.082031 20.464844 24.648438 26.125 24.65625 26.125 C 23.355469 24.109375 22.398438 22.449219 21.09375 19.3125 C 18.886719 14.007813 34.535156 9.207031 28.1875 0 Z M 36.5625 8.8125 C 36.5625 8.8125 25.5 9.523438 24.9375 16.59375 C 24.6875 19.742188 27.847656 21.398438 27.9375 23.6875 C 28.011719 25.558594 26.0625 27.125 26.0625 27.125 C 26.0625 27.125 29.609375 26.449219 30.71875 23.59375 C 31.949219 20.425781 28.320313 18.285156 28.6875 15.75 C 29.039063 13.324219 36.5625 8.8125 36.5625 8.8125 Z M 19.1875 25.15625 C 19.1875 25.15625 9.0625 25.011719 9.0625 27.875 C 9.0625 30.867188 22.316406 31.089844 31.78125 29.25 C 31.78125 29.25 34.296875 27.519531 34.96875 26.875 C 28.765625 28.140625 14.625 28.28125 14.625 27.1875 C 14.625 26.179688 19.1875 25.15625 19.1875 25.15625 Z M 38.65625 25.15625 C 37.664063 25.234375 36.59375 25.617188 35.625 26.3125 C 37.90625 25.820313 39.84375 27.234375 39.84375 28.84375 C 39.84375 32.46875 34.59375 35.875 34.59375 35.875 C 34.59375 35.875 42.71875 34.953125 42.71875 29 C 42.71875 26.296875 40.839844 24.984375 38.65625 25.15625 Z M 16.75 30.71875 C 15.195313 30.71875 12.875 31.9375 12.875 33.09375 C 12.875 35.417969 24.5625 37.207031 33.21875 33.8125 L 30.21875 31.96875 C 24.351563 33.847656 13.546875 33.234375 16.75 30.71875 Z M 18.1875 35.9375 C 16.058594 35.9375 14.65625 37.222656 14.65625 38.1875 C 14.65625 41.171875 27.371094 41.472656 32.40625 38.4375 L 29.21875 36.40625 C 25.457031 37.996094 16.015625 38.238281 18.1875 35.9375 Z M 11.09375 38.625 C 7.625 38.554688 5.375 40.113281 5.375 41.40625 C 5.375 48.28125 40.875 47.964844 40.875 40.9375 C 40.875 39.769531 39.527344 39.203125 39.03125 38.9375 C 41.933594 45.65625 9.96875 45.121094 9.96875 41.15625 C 9.96875 40.253906 12.320313 39.390625 14.5 39.8125 L 12.65625 38.75 C 12.113281 38.667969 11.589844 38.636719 11.09375 38.625 Z M 44.625 43.25 C 39.226563 48.367188 25.546875 50.222656 11.78125 47.0625 C 25.542969 52.695313 44.558594 49.535156 44.625 43.25 Z"/></svg></span>
              <span class="custom-code-block-lang-text">java</span>
            </div>
            <span class="custom-code-block-title">HttpMessageConverter 쪽으로 검증 처리 방법</span>
          </div>
          <div class="custom-code-block-header-right">
            <div class="custom-code-block-actions">
              <button class="copy-code-button" title="Copy code">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg>
              </button>
            </div>
          </div>
        </div>
      
          <pre><code class="language-java hljs"><span class="line"><span class="hljs-meta">@RestControllerAdvice</span></span><span class="line"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">GlobalExceptionHandler</span> {</span><span class="line">&nbsp;</span><span class="line">    <span class="hljs-comment">// MethodArgumentNotValidException 예외가 발생하면 이 메소드가 실행됨</span></span><span class="line">    <span class="hljs-meta">@ExceptionHandler(MethodArgumentNotValidException.class)</span></span><span class="line">    <span class="hljs-meta">@ResponseStatus(HttpStatus.BAD_REQUEST)</span> <span class="hljs-comment">// HTTP 상태 코드를 400으로 응답</span></span><span class="line">    <span class="hljs-keyword">public</span> ErrorResponse <span class="hljs-title function_">handleValidationExceptions</span><span class="hljs-params">(MethodArgumentNotValidException ex)</span> {</span><span class="line">        </span><span class="line">        <span class="hljs-comment">// ex.getBindingResult()를 통해 BindingResult에 접근 가능</span></span><span class="line">        <span class="hljs-comment">// 여기서 에러 정보를 가공하여 클라이언트에게 보기 좋은 형태로 응답</span></span><span class="line">        <span class="hljs-comment">// ...</span></span><span class="line">&nbsp;</span><span class="line">        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ErrorResponse</span>(<span class="hljs-string">&quot;VALIDATION_FAILED&quot;</span>, <span class="hljs-string">&quot;검증에 실패했습니다.&quot;</span>);</span><span class="line">    }</span><span class="line">}</span></code></pre>
        </div>
      
<h3 style="color: #C792EA;">
                  <span style="font-size: initial; color: #F0C292; margin-right: 0.5em;">h3</span>
                  관련 내용 링크
                </h3>
<ul>
<li><a href="/github-blog/blog/50e6a885">DispatcherServlet</a>, <a href="#">WebDataBinder</a>, <a href="/github-blog/blog/9aa34fb6">ArgumentResolver</a>, <a href="/github-blog/blog/f9416c12">HttpMessageConverter</a></li>
<li><a href="#">WebDataBinder</a>, <a href="/github-blog/blog/f9416c12">HttpMessageConverter</a></li>
<li><a href="/github-blog/blog/0429bddc">BindingResult</a></li>
</ul>
<h2 style="color: #C3E88D;">
                  <span style="font-size: initial; color: #F0C292; margin-right: 0.5em;">h2</span>
                  ValidationUtils (부록)
                </h2>
<ul>
<li><a href="/github-blog/blog/0429bddc">BindingResult</a> 사용에 유용</li>
<li>위와 아래는 동일한 사용 방법</li>
</ul>

        <div class="custom-code-block">
          
        <div class="custom-code-block-header">
          <div class="custom-code-block-header-left">
            <div class="custom-code-block-lang">
              <span class="custom-code-block-icon"><svg xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 50 50" width="50px" height="50px"><title>Java</title><path d="M 28.1875 0 C 30.9375 6.363281 18.328125 10.292969 17.15625 15.59375 C 16.082031 20.464844 24.648438 26.125 24.65625 26.125 C 23.355469 24.109375 22.398438 22.449219 21.09375 19.3125 C 18.886719 14.007813 34.535156 9.207031 28.1875 0 Z M 36.5625 8.8125 C 36.5625 8.8125 25.5 9.523438 24.9375 16.59375 C 24.6875 19.742188 27.847656 21.398438 27.9375 23.6875 C 28.011719 25.558594 26.0625 27.125 26.0625 27.125 C 26.0625 27.125 29.609375 26.449219 30.71875 23.59375 C 31.949219 20.425781 28.320313 18.285156 28.6875 15.75 C 29.039063 13.324219 36.5625 8.8125 36.5625 8.8125 Z M 19.1875 25.15625 C 19.1875 25.15625 9.0625 25.011719 9.0625 27.875 C 9.0625 30.867188 22.316406 31.089844 31.78125 29.25 C 31.78125 29.25 34.296875 27.519531 34.96875 26.875 C 28.765625 28.140625 14.625 28.28125 14.625 27.1875 C 14.625 26.179688 19.1875 25.15625 19.1875 25.15625 Z M 38.65625 25.15625 C 37.664063 25.234375 36.59375 25.617188 35.625 26.3125 C 37.90625 25.820313 39.84375 27.234375 39.84375 28.84375 C 39.84375 32.46875 34.59375 35.875 34.59375 35.875 C 34.59375 35.875 42.71875 34.953125 42.71875 29 C 42.71875 26.296875 40.839844 24.984375 38.65625 25.15625 Z M 16.75 30.71875 C 15.195313 30.71875 12.875 31.9375 12.875 33.09375 C 12.875 35.417969 24.5625 37.207031 33.21875 33.8125 L 30.21875 31.96875 C 24.351563 33.847656 13.546875 33.234375 16.75 30.71875 Z M 18.1875 35.9375 C 16.058594 35.9375 14.65625 37.222656 14.65625 38.1875 C 14.65625 41.171875 27.371094 41.472656 32.40625 38.4375 L 29.21875 36.40625 C 25.457031 37.996094 16.015625 38.238281 18.1875 35.9375 Z M 11.09375 38.625 C 7.625 38.554688 5.375 40.113281 5.375 41.40625 C 5.375 48.28125 40.875 47.964844 40.875 40.9375 C 40.875 39.769531 39.527344 39.203125 39.03125 38.9375 C 41.933594 45.65625 9.96875 45.121094 9.96875 41.15625 C 9.96875 40.253906 12.320313 39.390625 14.5 39.8125 L 12.65625 38.75 C 12.113281 38.667969 11.589844 38.636719 11.09375 38.625 Z M 44.625 43.25 C 39.226563 48.367188 25.546875 50.222656 11.78125 47.0625 C 25.542969 52.695313 44.558594 49.535156 44.625 43.25 Z"/></svg></span>
              <span class="custom-code-block-lang-text">java</span>
            </div>
            
          </div>
          <div class="custom-code-block-header-right">
            <div class="custom-code-block-actions">
              <button class="copy-code-button" title="Copy code">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg>
              </button>
            </div>
          </div>
        </div>
      
          <pre><code class="language-java hljs"><span class="line"><span class="hljs-keyword">if</span> (!StringUtils.hasText(item.getItemName())) </span><span class="line">	bindingResult.rejectValue(<span class="hljs-string">&quot;itemName&quot;</span>, <span class="hljs-string">&quot;required&quot;</span>);  </span></code></pre>
        </div>
      

        <div class="custom-code-block">
          
        <div class="custom-code-block-header">
          <div class="custom-code-block-header-left">
            <div class="custom-code-block-lang">
              <span class="custom-code-block-icon"><svg xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 50 50" width="50px" height="50px"><title>Java</title><path d="M 28.1875 0 C 30.9375 6.363281 18.328125 10.292969 17.15625 15.59375 C 16.082031 20.464844 24.648438 26.125 24.65625 26.125 C 23.355469 24.109375 22.398438 22.449219 21.09375 19.3125 C 18.886719 14.007813 34.535156 9.207031 28.1875 0 Z M 36.5625 8.8125 C 36.5625 8.8125 25.5 9.523438 24.9375 16.59375 C 24.6875 19.742188 27.847656 21.398438 27.9375 23.6875 C 28.011719 25.558594 26.0625 27.125 26.0625 27.125 C 26.0625 27.125 29.609375 26.449219 30.71875 23.59375 C 31.949219 20.425781 28.320313 18.285156 28.6875 15.75 C 29.039063 13.324219 36.5625 8.8125 36.5625 8.8125 Z M 19.1875 25.15625 C 19.1875 25.15625 9.0625 25.011719 9.0625 27.875 C 9.0625 30.867188 22.316406 31.089844 31.78125 29.25 C 31.78125 29.25 34.296875 27.519531 34.96875 26.875 C 28.765625 28.140625 14.625 28.28125 14.625 27.1875 C 14.625 26.179688 19.1875 25.15625 19.1875 25.15625 Z M 38.65625 25.15625 C 37.664063 25.234375 36.59375 25.617188 35.625 26.3125 C 37.90625 25.820313 39.84375 27.234375 39.84375 28.84375 C 39.84375 32.46875 34.59375 35.875 34.59375 35.875 C 34.59375 35.875 42.71875 34.953125 42.71875 29 C 42.71875 26.296875 40.839844 24.984375 38.65625 25.15625 Z M 16.75 30.71875 C 15.195313 30.71875 12.875 31.9375 12.875 33.09375 C 12.875 35.417969 24.5625 37.207031 33.21875 33.8125 L 30.21875 31.96875 C 24.351563 33.847656 13.546875 33.234375 16.75 30.71875 Z M 18.1875 35.9375 C 16.058594 35.9375 14.65625 37.222656 14.65625 38.1875 C 14.65625 41.171875 27.371094 41.472656 32.40625 38.4375 L 29.21875 36.40625 C 25.457031 37.996094 16.015625 38.238281 18.1875 35.9375 Z M 11.09375 38.625 C 7.625 38.554688 5.375 40.113281 5.375 41.40625 C 5.375 48.28125 40.875 47.964844 40.875 40.9375 C 40.875 39.769531 39.527344 39.203125 39.03125 38.9375 C 41.933594 45.65625 9.96875 45.121094 9.96875 41.15625 C 9.96875 40.253906 12.320313 39.390625 14.5 39.8125 L 12.65625 38.75 C 12.113281 38.667969 11.589844 38.636719 11.09375 38.625 Z M 44.625 43.25 C 39.226563 48.367188 25.546875 50.222656 11.78125 47.0625 C 25.542969 52.695313 44.558594 49.535156 44.625 43.25 Z"/></svg></span>
              <span class="custom-code-block-lang-text">java</span>
            </div>
            
          </div>
          <div class="custom-code-block-header-right">
            <div class="custom-code-block-actions">
              <button class="copy-code-button" title="Copy code">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg>
              </button>
            </div>
          </div>
        </div>
      
          <pre><code class="language-java hljs"><span class="line">ValidationUtils.rejectIfEmptyOrWhitespace(bindingResult, <span class="hljs-string">&quot;itemName&quot;</span>, <span class="hljs-string">&quot;required&quot;</span>);</span></code></pre>
        </div>
      
15:T138b,---
aliases:
  - 검증에 대해
tags:
  - Spring
  - Spring/Validation
  - index
특징: 검증 로직
isPublic: true
---
# 검증
- [[2.Ref(데이터 및 정보 저장)/Spring/Annotation/@Validated-@Valid|@Validated]] 통해서 사용
- 보통 [[2.Ref(데이터 및 정보 저장)/Spring/Validator/Bean Validation|Bean Validation]] 사용하는데 Java의 `Validator`로 만들어져있고 Spring 의 [[2.Ref(데이터 및 정보 저장)/Spring/Validator/Validator|Validator]]  와 다른 것이기 때문에 이걸 해결하기 위해
- [[0.New Note/LocalValidatorFactoryBean|LocalValidatorFactoryBean]] 사용하여 Spring 의 [[2.Ref(데이터 및 정보 저장)/Spring/Validator/Validator|Validator]] 인척하고 사용됨
- 검증된 결과는 [[2.Ref(데이터 및 정보 저장)/Spring/Validator/BindingResult|BindingResult]] 에서 확인 가능
	- 데이터 타입 문제가 발생할 경우 [[0.New Note/WebDataBinder|WebDataBinder]] 으로 분석되는지 [[2.Ref(데이터 및 정보 저장)/Spring/변환기/HttpMessageConverter|HttpMessageConverter]] 으로 분석되는지에 따라서 데이터 타입 분석이 될지 말지 분간됨
## 흐름도
```plantuml
@startuml
title 상세 검증 및 변환 흐름 (ArgumentResolver 중심)

start

:HTTP 요청 접수 (DispatcherServlet);

:컨트롤러 파라미터 분석 후
**ArgumentResolver 선택**;
note right
  @ModelAttribute -> ModelAttributeMethodProcessor
  @RequestBody -> RequestResponseBodyMethodProcessor
end note

if (ModelAttributeMethodProcessor?) then (yes)
    partition "경로 A: WebDataBinder" {
        :WebDataBinder 생성 및 @InitBinder 설정;
        :필드별 바인딩 & 타입 변환;
        if (타입 변환 실패?) then (yes)
            :BindingResult에 'typeMismatch' 에러 추가;
        endif
        if (@Validated 존재?) then (yes)
            :등록된 Validator(Bean Validation 등) 실행;
            if (검증 실패?) then (yes)
                :BindingResult에 검증 에러 추가;
            endif
        endif
    }
else (RequestResponseBodyMethodProcessor?)
    partition "경로 B: HttpMessageConverter" {
        :Content-Type에 맞는 HttpMessageConverter 실행;
        if (객체 변환 실패 (타입 불일치 등)?) then (yes)
            :400 Bad Request 응답;
            stop
        endif
        if (@Validated 존재?) then (yes)
            :Bean Validation 실행;
            if (검증 실패?) then (yes)
                :400 Bad Request 응답;
                stop
            endif
        endif
    }
endif

:Controller 메소드 호출;

stop

@enduml
```
- [[2.Ref(데이터 및 정보 저장)/Spring/변환기/HttpMessageConverter|HttpMessageConverter]] 쪽으로 가게 되면 [[2.Ref(데이터 및 정보 저장)/Spring/Validator/BindingResult|BindingResult]] 사용할 수 없음
	- [[2.Ref(데이터 및 정보 저장)/Spring/변환기/HttpMessageConverter|HttpMessageConverter]] 쪽은 [[2.Ref(데이터 및 정보 저장)/Spring/Annotation/@RequestBody|@RequestBody]] 등은 [[2.Ref(데이터 및 정보 저장)/Spring/Annotation/@RestControllerAdvice|@RestControllerAdvice]] 와 [[2.Ref(데이터 및 정보 저장)/Spring/Annotation/@ExceptionHandler|@ExceptionHandler]] 에서 처리 가능
```java title:"HttpMessageConverter 쪽으로 검증 처리 방법"
@RestControllerAdvice
public class GlobalExceptionHandler {

    // MethodArgumentNotValidException 예외가 발생하면 이 메소드가 실행됨
    @ExceptionHandler(MethodArgumentNotValidException.class)
    @ResponseStatus(HttpStatus.BAD_REQUEST) // HTTP 상태 코드를 400으로 응답
    public ErrorResponse handleValidationExceptions(MethodArgumentNotValidException ex) {
        
        // ex.getBindingResult()를 통해 BindingResult에 접근 가능
        // 여기서 에러 정보를 가공하여 클라이언트에게 보기 좋은 형태로 응답
        // ...

        return new ErrorResponse("VALIDATION_FAILED", "검증에 실패했습니다.");
    }
}
```
### 관련 내용 링크
- [[2.Ref(데이터 및 정보 저장)/Spring/DispatcherServlet|DispatcherServlet]], [[0.New Note/WebDataBinder|WebDataBinder]], [[2.Ref(데이터 및 정보 저장)/Spring/ArgumentResolver(HandlerMethodArgumentResolver)|ArgumentResolver]], [[2.Ref(데이터 및 정보 저장)/Spring/변환기/HttpMessageConverter|HttpMessageConverter]]
- [[0.New Note/WebDataBinder|WebDataBinder]], [[2.Ref(데이터 및 정보 저장)/Spring/변환기/HttpMessageConverter|HttpMessageConverter]] 
- [[2.Ref(데이터 및 정보 저장)/Spring/Validator/BindingResult|BindingResult]] 

## ValidationUtils (부록)
- [[2.Ref(데이터 및 정보 저장)/Spring/Validator/BindingResult|BindingResult]] 사용에 유용
- 위와 아래는 동일한 사용 방법
```java
if (!StringUtils.hasText(item.getItemName())) 
	bindingResult.rejectValue("itemName", "required");  
```
```java
ValidationUtils.rejectIfEmptyOrWhitespace(bindingResult, "itemName", "required");
```




5:["$","div",null,{"className":"page_container__MI3fw","children":["$","$L13",null,{"post":{"slug":"Spring/Validator/2.검증","slugHash":"a63989ff","content":"$14","markdownContent":"$15","title":"2.검증","createdAt":"2025-09-11","updatedAt":"2025-09-11","tags":["Spring","Spring/Validation","index"],"isPublished":true,"excerpt":"$undefined","coverImgUrl":"$undefined","aliases":["검증에 대해"],"noteUUID":"$undefined"}}]}]
e:[["$","meta","0",{"charSet":"utf-8"}],["$","meta","1",{"name":"viewport","content":"width=device-width, initial-scale=1"}]]
9:null
12:{"metadata":[["$","title","0",{"children":"서동민 개발 블로그"}],["$","meta","1",{"name":"description","content":"서동민 개발 블로그"}],["$","meta","2",{"property":"og:title","content":"서동민 개발 블로그"}],["$","meta","3",{"property":"og:description","content":"서동민 개발 블로그"}],["$","meta","4",{"name":"twitter:card","content":"summary"}],["$","meta","5",{"name":"twitter:title","content":"서동민 개발 블로그"}],["$","meta","6",{"name":"twitter:description","content":"서동민 개발 블로그"}],["$","link","7",{"rel":"icon","href":"/github-blog/favicon.ico","type":"image/x-icon","sizes":"16x16"}]],"error":null,"digest":"$undefined"}
c:{"metadata":"$12:metadata","error":null,"digest":"$undefined"}
