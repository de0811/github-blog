<!DOCTYPE html><html lang="kr"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="/github-blog/_next/static/css/a8e036e7bd01ae38.css" data-precedence="next"/><link rel="stylesheet" href="/github-blog/_next/static/css/0d98168a1605ff50.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/github-blog/_next/static/chunks/webpack-4fec53b9af6cf440.js"/><script src="/github-blog/_next/static/chunks/4bd1b696-9a121be019975beb.js" async=""></script><script src="/github-blog/_next/static/chunks/684-43b7be680efb657f.js" async=""></script><script src="/github-blog/_next/static/chunks/main-app-e3187f2dbff2ba6a.js" async=""></script><script src="/github-blog/_next/static/chunks/874-4886b34c1bdf6dbd.js" async=""></script><script src="/github-blog/_next/static/chunks/app/layout-89cb764941d28217.js" async=""></script><script src="/github-blog/_next/static/chunks/63-0fba559ac1db5822.js" async=""></script><script src="/github-blog/_next/static/chunks/727-712d691b8b7a510e.js" async=""></script><script src="/github-blog/_next/static/chunks/app/blog/%5BslugHash%5D/page-0008b9761f15a304.js" async=""></script><title>ì„œë™ë¯¼ ê°œë°œ ë¸”ë¡œê·¸</title><meta name="description" content="ì„œë™ë¯¼ ê°œë°œ ë¸”ë¡œê·¸"/><meta property="og:title" content="ì„œë™ë¯¼ ê°œë°œ ë¸”ë¡œê·¸"/><meta property="og:description" content="ì„œë™ë¯¼ ê°œë°œ ë¸”ë¡œê·¸"/><meta name="twitter:card" content="summary"/><meta name="twitter:title" content="ì„œë™ë¯¼ ê°œë°œ ë¸”ë¡œê·¸"/><meta name="twitter:description" content="ì„œë™ë¯¼ ê°œë°œ ë¸”ë¡œê·¸"/><link rel="icon" href="/github-blog/favicon.ico" type="image/x-icon" sizes="16x16"/><script>document.querySelectorAll('body link[rel="icon"], body link[rel="apple-touch-icon"]').forEach(el => document.head.appendChild(el))</script><script src="/github-blog/_next/static/chunks/polyfills-42372ed130431b0a.js" noModule=""></script></head><body><header class="Header_header__2AlXl"><div class="Header_container__fmm9t"><div class="Header_navigation__tSRAv"><div class="Header_logo__d2E46"><a href="/github-blog/">Home</a></div><a class="Header_navLink__IXQUL" href="/github-blog/blog/">Blog</a><a class="Header_navLink__IXQUL" href="/github-blog/about/">About</a></div><div class="Header_actions__TtCcO"><!--$!--><template data-dgst="BAILOUT_TO_CLIENT_SIDE_RENDERING"></template><div class="Header_searchInput__8ZIxR" style="width:180px"></div><!--/$--><button class="Header_themeToggle__wvW09" aria-label="ë‹¤í¬ ëª¨ë“œë¡œ ì „í™˜">ğŸŒ™</button></div></div></header><main><div class="page_container__MI3fw"><article class="PostDetail_detail__znY64"><h1 class="PostDetail_title__FXYr9">JWT</h1><div class="PostDetail_aliases__Ct_zb"><span class="PostDetail_alias___ciFN">JWT</span><span class="PostDetail_alias___ciFN">JWT(JSON Web Token)</span></div><div class="PostDetail_meta__0uTTx"><span>ì‘ì„±ì¼: <!-- -->2025-09-12</span><span> | ìˆ˜ì •ì¼: <!-- -->2025-09-12</span></div><div class="PostDetail_content__CFv4x"><h1 style="color:#82AAFF">
                  <span style="font-size:initial;color:#F0C292;margin-right:0.5em">h1</span>
                  JWT(JSON Web Token)
                </h1>
<h2 style="color:#C3E88D">
                  <span style="font-size:initial;color:#F0C292;margin-right:0.5em">h2</span>
                  JSESSIONID ë‹¨ì 
                </h2>
<p>í† í°ì— ìœ ì € ë°ì´í„°ë¥¼ ë„£ì„ ìˆ˜ ì—†ìŒ<br/>JSESSIONID í›”ì¹˜ê¸° ê°€ëŠ¥ (JWT ë˜í•œ í›”ì¹  ìˆ˜ ìˆëŠ”ë°?)</p>
<h2 style="color:#C3E88D">
                  <span style="font-size:initial;color:#F0C292;margin-right:0.5em">h2</span>
                  í† í°ì˜ ì¥ì 
                </h2>
<p>ìê²© ì¦ëª…ì„ ë°˜ë³µí•´ì„œ ê³µìœ í•˜ì§€ ì•Šì•„ë„ ë˜ë¯€ë¡œ ë³´ì•ˆì ì¸ ì´ì <br/>í•´ì»¤ê°€ í† í°ì„ íƒˆì·¨í•´ë„ í† í°ì„ ë¬´íš¨í™”ì‹œí‚¬ ìˆ˜ ìˆì–´ì„œ ë³´ì•ˆì— ìœ ë¦¬ (? ëˆ„ê°€ ë“¤ìœ¼ë©´ JSESSIONID ëŠ” ë¬´íš¨í™” ì•ˆë˜ëŠ”ì§€ ì•Œê² ë„¤)<br/>í† í°ì˜ ìˆ˜ëª… ì„¤ì • ê°€ëŠ¥ ë° ì¬ì‚¬ìš© ê°€ëŠ¥<br/>ë¬´ìƒíƒœ ìœ ì§€ ê°€ëŠ¥<br/>ë‹¨ìˆœí•˜ê²Œ ë¬´ìƒíƒœ ìœ ì§€ì™€ í† í°ì˜ ë°œí–‰ìê°€ ì„œë²„ë¼ëŠ” ê²ƒì„ ì¦ëª…ê°€ëŠ¥í•œ ê²ƒ</p>
<h2 style="color:#C3E88D">
                  <span style="font-size:initial;color:#F0C292;margin-right:0.5em">h2</span>
                  JWT í† í°ì˜ ë‚´ë¶€ êµ¬ì¡°
                </h2>
<p><code>aaaaaaa.bbbbbbb.ccccc</code><br/>aaa ë¡œ ëœ ë¶€ë¶„ì€ í—¤ë”(header) ë¶€ë¶„<br/>bbb ë¡œ ëœ ë¶€ë¶„ì€ ë‚´ìš©(payload) ë¶€ë¶„<br/>ccc ë¡œ ëœ ë¶€ë¶„ì€ ì„œëª…(signature) ë¶€ë¶„ - í•´ë‹¹ ë¶€ë¶„ì€ ì„ íƒ ì‚¬í•­</p>
<p>ê° ë¶€ë¶„ì˜ êµ¬ë¶„ì€ <code>.</code> ì„ í†µí•´ì„œ êµ¬ë¶„<br/><code>HMACSHA256(base64UrlEncode(header) + &quot;.&quot; + base64UrlEncode(payload), secret)</code></p>
<h3 style="color:#C792EA">
                  <span style="font-size:initial;color:#F0C292;margin-right:0.5em">h3</span>
                  header
                </h3>
<p>ì–´ë–¤ ì•Œê³ ë¦¬ì¦˜ì„ ì‚¬ìš©í•˜ëŠ”ì§€<br/>í† í°ì˜ ì¢…ë¥˜ê°€ ë¬´ì—‡ì¸ì§€<br/>JWT í† í°ì„ ìƒì„±í•˜ë©° ì‚¬ìš©ëœ í† í°ì˜ í˜•ì‹ì€ ì–´ë–¤ê²ƒì¸ì§€<br/>ë³´í†µ í•´ë‹¹ ë°ì´í„°ë¥¼ Base64 Encoded ë¥¼ ì§„í–‰í•˜ì—¬ ê°€ì¥ ì•ì— ë¶™ì„</p>

        <div class="custom-code-block">
          
        <div class="custom-code-block-header">
          <div class="custom-code-block-header-left">
            <div class="custom-code-block-lang">
              <span class="custom-code-block-icon"><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>JSON</title><path d="M1.59 2.085c-.51.345-.84 1.005-.84 1.665v16.5c0 .66.33 1.32.84 1.665.51.345 1.155.345 1.665 0l1.68-1.11c.345-.225.555-.615.555-1.02V4.215c0-.405-.21-.81-.555-1.02l-1.68-1.11c-.51-.345-1.155-.345-1.665 0zm20.82 0c-.51.345-1.155-.345-1.665 0l-1.68 1.11c-.345-.225-.555-.615-.555 1.02v15.45c0 .405.21.81.555 1.02l1.68 1.11c.51.345 1.155.345 1.665 0 .51-.345.84-1.005.84-1.665V3.75c0-.66-.33-1.32-.84-1.665zM9 15.75c0 1.245.99 2.25 2.25 2.25S13.5 17.01 13.5 15.75s-.99-2.25-2.25-2.25-2.25.99-2.25 2.25zm6 0c0 1.245.99 2.25 2.25 2.25s2.25-.99 2.25-2.25-.99-2.25-2.25-2.25-2.25.99-2.25 2.25z"></path></svg></span>
              <span class="custom-code-block-lang-text">json</span>
            </div>
            
          </div>
          <div class="custom-code-block-header-right">
            <div class="custom-code-block-actions">
              <button class="copy-code-button" title="Copy code">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg>
              </button>
            </div>
          </div>
        </div>
      
          <pre><code class="language-json hljs"><span class="line"><span class="hljs-punctuation">{</span></span><span class="line">	<span class="hljs-attr">&quot;alg&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-string">&quot;HS256&quot;</span><span class="hljs-punctuation">,</span></span><span class="line">	<span class="hljs-attr">&quot;typ&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-string">&quot;JWT&quot;</span></span><span class="line"><span class="hljs-punctuation">}</span></span></code></pre>
        </div>
      
<blockquote>
<p>í•´ë‹¹ ë°ì´í„°ë¥¼ Base64 ë¡œ ë³€í™˜í•˜ì—¬ header ìœ„ì¹˜ì— ë“±ë¡</p>
</blockquote>
<h3 style="color:#C792EA">
                  <span style="font-size:initial;color:#F0C292;margin-right:0.5em">h3</span>
                  payload
                </h3>
<p>ìœ ì €ì— ëŒ€í•œ ì •ë³´ë¥¼ ì €ì¥ (ë„£ëŠ” ì‚¬ëŒì´ ë„£ê³  ì‹¶ì€ ë‚´ìš©ì„ ì‘ì„±)</p>

        <div class="custom-code-block">
          
        <div class="custom-code-block-header">
          <div class="custom-code-block-header-left">
            <div class="custom-code-block-lang">
              <span class="custom-code-block-icon"><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>JSON</title><path d="M1.59 2.085c-.51.345-.84 1.005-.84 1.665v16.5c0 .66.33 1.32.84 1.665.51.345 1.155.345 1.665 0l1.68-1.11c.345-.225.555-.615.555-1.02V4.215c0-.405-.21-.81-.555-1.02l-1.68-1.11c-.51-.345-1.155-.345-1.665 0zm20.82 0c-.51.345-1.155-.345-1.665 0l-1.68 1.11c-.345-.225-.555-.615-.555 1.02v15.45c0 .405.21.81.555 1.02l1.68 1.11c.51.345 1.155.345 1.665 0 .51-.345.84-1.005.84-1.665V3.75c0-.66-.33-1.32-.84-1.665zM9 15.75c0 1.245.99 2.25 2.25 2.25S13.5 17.01 13.5 15.75s-.99-2.25-2.25-2.25-2.25.99-2.25 2.25zm6 0c0 1.245.99 2.25 2.25 2.25s2.25-.99 2.25-2.25-.99-2.25-2.25-2.25-2.25.99-2.25 2.25z"></path></svg></span>
              <span class="custom-code-block-lang-text">json</span>
            </div>
            
          </div>
          <div class="custom-code-block-header-right">
            <div class="custom-code-block-actions">
              <button class="copy-code-button" title="Copy code">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg>
              </button>
            </div>
          </div>
        </div>
      
          <pre><code class="language-json hljs"><span class="line"><span class="hljs-punctuation">{</span></span><span class="line">	<span class="hljs-attr">&quot;sub&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-string">&quot;12345&quot;</span><span class="hljs-punctuation">,</span></span><span class="line">	<span class="hljs-attr">&quot;name&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-string">&quot;John Doe&quot;</span><span class="hljs-punctuation">,</span></span><span class="line">	<span class="hljs-attr">&quot;iat&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-number">1516239022</span></span><span class="line"><span class="hljs-punctuation">}</span></span></code></pre>
        </div>
      
<blockquote>
<p>í•´ë‹¹ ë°ì´í„°ë¥¼ Base64 ë¡œ ë³€í™˜í•˜ì—¬ payload ìœ„ì¹˜ì— ë“±ë¡</p>
</blockquote>
<h4 style="color:#89DDFF">
                  <span style="font-size:initial;color:#F0C292;margin-right:0.5em">h4</span>
                  Registered Claim(ë“±ë¡ëœ í´ë ˆì„)
                </h4>
<ul>
<li><code>iss</code>: í† í° ë°œê¸‰ì(issuer)</li>
<li><code>sub</code>: í† í° ì œëª© (subject)</li>
<li><code>aud</code>: í† í° ëŒ€ìƒì (audience)</li>
<li><code>exp</code>: í† í°ì˜ ë§Œë£Œì‹œê°„ (expiraton), ì‹œê°„ì€ NumericDate í˜•ì‹ìœ¼ë¡œ ë˜ì–´ìˆì–´ì•¼ í•˜ë©° (ì˜ˆ:Â 1480849147370) ì–¸ì œë‚˜ í˜„ì¬ ì‹œê°„ë³´ë‹¤ ì´í›„ë¡œ ì„¤ì •ë˜ì–´ìˆì–´ì•¼í•©ë‹ˆë‹¤.</li>
<li><code>nbf</code>: Not Before ë¥¼ ì˜ë¯¸í•˜ë©°, í† í°ì˜ í™œì„± ë‚ ì§œì™€ ë¹„ìŠ·í•œ ê°œë…ì…ë‹ˆë‹¤. ì—¬ê¸°ì—ë„ NumericDate í˜•ì‹ìœ¼ë¡œ ë‚ ì§œë¥¼ ì§€ì •í•˜ë©°, ì´ ë‚ ì§œê°€ ì§€ë‚˜ê¸° ì „ê¹Œì§€ëŠ” í† í°ì´ ì²˜ë¦¬ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.</li>
<li><code>iat</code>: í† í°ì´ ë°œê¸‰ëœ ì‹œê°„ (issued at), ì´ ê°’ì„ ì‚¬ìš©í•˜ì—¬ í† í°ì˜Â <code>age</code>Â ê°€ ì–¼ë§ˆë‚˜ ë˜ì—ˆëŠ”ì§€ íŒë‹¨ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>
<li><code>jti</code>:Â JWTì˜ ê³ ìœ  ì‹ë³„ìë¡œì„œ, ì£¼ë¡œ ì¤‘ë³µì ì¸ ì²˜ë¦¬ë¥¼ ë°©ì§€í•˜ê¸° ìœ„í•˜ì—¬ ì‚¬ìš©ë©ë‹ˆë‹¤. ì¼íšŒìš© í† í°ì— ì‚¬ìš©í•˜ë©´ ìœ ìš©í•©ë‹ˆë‹¤.</li>
</ul>
<h3 style="color:#C792EA">
                  <span style="font-size:initial;color:#F0C292;margin-right:0.5em">h3</span>
                  signature
                </h3>
<p>ì„œëª… ê°’ì„ ë“±ë¡í•´ì„œ ë³´ë‚¼ ê²½ìš° ë‚´ë¶€ ê°’ì„ í•´ì‹œê°’ì— ì˜í•´ ë³´í˜¸ ë¨ìœ¼ë¡œ ìˆ˜ì •í•´ë„ ì˜ë¯¸ê°€ ì—†ê¸° ë•Œë¬¸ì— ë³´ì•ˆì ìœ¼ë¡œ ì•ˆì „</p>
<h2 style="color:#C3E88D">
                  <span style="font-size:initial;color:#F0C292;margin-right:0.5em">h2</span>
                  jjwt ë¼ì´ë¸ŒëŸ¬ë¦¬ JWT ì„¤ì •
                </h2>

        <div class="custom-code-block">
          
        <div class="custom-code-block-header">
          <div class="custom-code-block-header-left">
            <div class="custom-code-block-lang">
              <span class="custom-code-block-icon"><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>XML</title><path d="M13.4 3l-2.8 18 2.8 0 2.8-18h-2.8zM6.4 6l-3.8 6 3.8 6 2.2 0-3.8-6 3.8-6-2.2 0zM21.4 6l-3.8 6 3.8 6 2.2 0-3.8-6 3.8-6-2.2 0z"></path></svg></span>
              <span class="custom-code-block-lang-text">xml</span>
            </div>
            
          </div>
          <div class="custom-code-block-header-right">
            <div class="custom-code-block-actions">
              <button class="copy-code-button" title="Copy code">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg>
              </button>
            </div>
          </div>
        </div>
      
          <pre><code class="language-xml hljs"><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>  </span><span class="line">    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>io.jsonwebtoken<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>  </span><span class="line">    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>jjwt-api<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>  </span><span class="line">    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>0.12.3<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>  </span><span class="line"><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>  </span><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>  </span><span class="line">    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>io.jsonwebtoken<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>  </span><span class="line">    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>jjwt-impl<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>  </span><span class="line">    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>0.12.3<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>  </span><span class="line">    <span class="hljs-tag">&lt;<span class="hljs-name">scope</span>&gt;</span>runtime<span class="hljs-tag">&lt;/<span class="hljs-name">scope</span>&gt;</span>  </span><span class="line"><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>  </span><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>  </span><span class="line">    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>io.jsonwebtoken<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>  </span><span class="line">    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>jjwt-jackson<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>  </span><span class="line">    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>0.12.3<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>  </span><span class="line"><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span></span></code></pre>
        </div>
      
<blockquote>
<p>pom.xml</p>
</blockquote>

        <div class="custom-code-block">
          
        <div class="custom-code-block-header">
          <div class="custom-code-block-header-left">
            <div class="custom-code-block-lang">
              <span class="custom-code-block-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50" width="50px" height="50px"><title>Java</title><path d="M 28.1875 0 C 30.9375 6.363281 18.328125 10.292969 17.15625 15.59375 C 16.082031 20.464844 24.648438 26.125 24.65625 26.125 C 23.355469 24.109375 22.398438 22.449219 21.09375 19.3125 C 18.886719 14.007813 34.535156 9.207031 28.1875 0 Z M 36.5625 8.8125 C 36.5625 8.8125 25.5 9.523438 24.9375 16.59375 C 24.6875 19.742188 27.847656 21.398438 27.9375 23.6875 C 28.011719 25.558594 26.0625 27.125 26.0625 27.125 C 26.0625 27.125 29.609375 26.449219 30.71875 23.59375 C 31.949219 20.425781 28.320313 18.285156 28.6875 15.75 C 29.039063 13.324219 36.5625 8.8125 36.5625 8.8125 Z M 19.1875 25.15625 C 19.1875 25.15625 9.0625 25.011719 9.0625 27.875 C 9.0625 30.867188 22.316406 31.089844 31.78125 29.25 C 31.78125 29.25 34.296875 27.519531 34.96875 26.875 C 28.765625 28.140625 14.625 28.28125 14.625 27.1875 C 14.625 26.179688 19.1875 25.15625 19.1875 25.15625 Z M 38.65625 25.15625 C 37.664063 25.234375 36.59375 25.617188 35.625 26.3125 C 37.90625 25.820313 39.84375 27.234375 39.84375 28.84375 C 39.84375 32.46875 34.59375 35.875 34.59375 35.875 C 34.59375 35.875 42.71875 34.953125 42.71875 29 C 42.71875 26.296875 40.839844 24.984375 38.65625 25.15625 Z M 16.75 30.71875 C 15.195313 30.71875 12.875 31.9375 12.875 33.09375 C 12.875 35.417969 24.5625 37.207031 33.21875 33.8125 L 30.21875 31.96875 C 24.351563 33.847656 13.546875 33.234375 16.75 30.71875 Z M 18.1875 35.9375 C 16.058594 35.9375 14.65625 37.222656 14.65625 38.1875 C 14.65625 41.171875 27.371094 41.472656 32.40625 38.4375 L 29.21875 36.40625 C 25.457031 37.996094 16.015625 38.238281 18.1875 35.9375 Z M 11.09375 38.625 C 7.625 38.554688 5.375 40.113281 5.375 41.40625 C 5.375 48.28125 40.875 47.964844 40.875 40.9375 C 40.875 39.769531 39.527344 39.203125 39.03125 38.9375 C 41.933594 45.65625 9.96875 45.121094 9.96875 41.15625 C 9.96875 40.253906 12.320313 39.390625 14.5 39.8125 L 12.65625 38.75 C 12.113281 38.667969 11.589844 38.636719 11.09375 38.625 Z M 44.625 43.25 C 39.226563 48.367188 25.546875 50.222656 11.78125 47.0625 C 25.542969 52.695313 44.558594 49.535156 44.625 43.25 Z"></path></svg></span>
              <span class="custom-code-block-lang-text">java</span>
            </div>
            
          </div>
          <div class="custom-code-block-header-right">
            <div class="custom-code-block-actions">
              <button class="copy-code-button" title="Copy code">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg>
              </button>
            </div>
          </div>
        </div>
      
          <pre><code class="language-java hljs"><span class="line"><span class="hljs-meta">@EnableWebSecurity</span></span><span class="line"><span class="hljs-meta">@Configuration</span>  </span><span class="line"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SecurityConfig</span> {  </span><span class="line">  <span class="hljs-meta">@Bean</span>  </span><span class="line">  SecurityFilterChain <span class="hljs-title function_">securityFilterChain</span><span class="hljs-params">(HttpSecurity http)</span> <span class="hljs-keyword">throws</span> Exception {  </span><span class="line">  ...</span><span class="line">  http.sessionManagement(sessionManagement -&gt; sessionManagement.sessionCreationPolicy(SessionCreationPolicy.STATELESS));</span><span class="line">  ...</span><span class="line">  }</span><span class="line">  ...</span><span class="line">  <span class="hljs-keyword">public</span> CorsConfiguration <span class="hljs-title function_">corsConfiguration</span><span class="hljs-params">()</span> {  </span><span class="line">    <span class="hljs-type">CorsConfiguration</span> <span class="hljs-variable">corsConfig</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">CorsConfiguration</span>();  </span><span class="line">    ...</span><span class="line">    <span class="hljs-comment">// JWT í† í°ì„ ì‚¬ìš©í•˜ê¸° ìœ„í•´ Authorization í—¤ë”ë¥¼ ë…¸ì¶œì‹œí‚´  </span></span><span class="line">    corsConfig.setExposedHeaders(List.of(<span class="hljs-string">&quot;Authorization&quot;</span>));  </span><span class="line">    <span class="hljs-keyword">return</span> corsConfig;</span><span class="line">  }</span><span class="line">}</span></code></pre>
        </div>
      
<blockquote>
<p>session ë¶ˆí•„ìš”, Authorization í—¤ë” ë°›ëŠ” ê²ƒì„ í—ˆìš©</p>
</blockquote>

        <div class="custom-code-block">
          
        <div class="custom-code-block-header">
          <div class="custom-code-block-header-left">
            <div class="custom-code-block-lang">
              <span class="custom-code-block-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50" width="50px" height="50px"><title>Java</title><path d="M 28.1875 0 C 30.9375 6.363281 18.328125 10.292969 17.15625 15.59375 C 16.082031 20.464844 24.648438 26.125 24.65625 26.125 C 23.355469 24.109375 22.398438 22.449219 21.09375 19.3125 C 18.886719 14.007813 34.535156 9.207031 28.1875 0 Z M 36.5625 8.8125 C 36.5625 8.8125 25.5 9.523438 24.9375 16.59375 C 24.6875 19.742188 27.847656 21.398438 27.9375 23.6875 C 28.011719 25.558594 26.0625 27.125 26.0625 27.125 C 26.0625 27.125 29.609375 26.449219 30.71875 23.59375 C 31.949219 20.425781 28.320313 18.285156 28.6875 15.75 C 29.039063 13.324219 36.5625 8.8125 36.5625 8.8125 Z M 19.1875 25.15625 C 19.1875 25.15625 9.0625 25.011719 9.0625 27.875 C 9.0625 30.867188 22.316406 31.089844 31.78125 29.25 C 31.78125 29.25 34.296875 27.519531 34.96875 26.875 C 28.765625 28.140625 14.625 28.28125 14.625 27.1875 C 14.625 26.179688 19.1875 25.15625 19.1875 25.15625 Z M 38.65625 25.15625 C 37.664063 25.234375 36.59375 25.617188 35.625 26.3125 C 37.90625 25.820313 39.84375 27.234375 39.84375 28.84375 C 39.84375 32.46875 34.59375 35.875 34.59375 35.875 C 34.59375 35.875 42.71875 34.953125 42.71875 29 C 42.71875 26.296875 40.839844 24.984375 38.65625 25.15625 Z M 16.75 30.71875 C 15.195313 30.71875 12.875 31.9375 12.875 33.09375 C 12.875 35.417969 24.5625 37.207031 33.21875 33.8125 L 30.21875 31.96875 C 24.351563 33.847656 13.546875 33.234375 16.75 30.71875 Z M 18.1875 35.9375 C 16.058594 35.9375 14.65625 37.222656 14.65625 38.1875 C 14.65625 41.171875 27.371094 41.472656 32.40625 38.4375 L 29.21875 36.40625 C 25.457031 37.996094 16.015625 38.238281 18.1875 35.9375 Z M 11.09375 38.625 C 7.625 38.554688 5.375 40.113281 5.375 41.40625 C 5.375 48.28125 40.875 47.964844 40.875 40.9375 C 40.875 39.769531 39.527344 39.203125 39.03125 38.9375 C 41.933594 45.65625 9.96875 45.121094 9.96875 41.15625 C 9.96875 40.253906 12.320313 39.390625 14.5 39.8125 L 12.65625 38.75 C 12.113281 38.667969 11.589844 38.636719 11.09375 38.625 Z M 44.625 43.25 C 39.226563 48.367188 25.546875 50.222656 11.78125 47.0625 C 25.542969 52.695313 44.558594 49.535156 44.625 43.25 Z"></path></svg></span>
              <span class="custom-code-block-lang-text">java</span>
            </div>
            
          </div>
          <div class="custom-code-block-header-right">
            <div class="custom-code-block-actions">
              <button class="copy-code-button" title="Copy code">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg>
              </button>
            </div>
          </div>
        </div>
      
          <pre><code class="language-java hljs"><span class="line"><span class="hljs-meta">@Slf4j</span>  </span><span class="line"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">JWTTokenGeneratorFilter</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">OncePerRequestFilter</span> {  </span><span class="line">  <span class="hljs-meta">@Override</span>  </span><span class="line">  <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doFilterInternal</span><span class="hljs-params">(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain)</span> <span class="hljs-keyword">throws</span> ServletException, IOException {  </span><span class="line">    <span class="hljs-type">Authentication</span> <span class="hljs-variable">authentication</span> <span class="hljs-operator">=</span> SecurityContextHolder.getContext().getAuthentication();  </span><span class="line">    <span class="hljs-keyword">if</span> (<span class="hljs-literal">null</span> != authentication) {  </span><span class="line">      <span class="hljs-type">SecretKey</span> <span class="hljs-variable">secretKey</span> <span class="hljs-operator">=</span> Keys.hmacShaKeyFor(JwtProperties.getSecretKey().getBytes());  </span><span class="line">      <span class="hljs-type">String</span> <span class="hljs-variable">jwt</span> <span class="hljs-operator">=</span> Jwts.builder()  </span><span class="line">        .issuer(<span class="hljs-string">&quot;EasyBank&quot;</span>)  </span><span class="line">        .subject(<span class="hljs-string">&quot;JWT Token&quot;</span>)  </span><span class="line">        .claim(<span class="hljs-string">&quot;username&quot;</span>, authentication.getName())  </span><span class="line">        .claim(<span class="hljs-string">&quot;authorities&quot;</span>, populateAuthorities(authentication))  </span><span class="line">        .issuedAt(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>())  </span><span class="line">        .expiration(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(System.currentTimeMillis() + (JwtProperties.getExpirationMinuteTime() * <span class="hljs-number">60</span> * <span class="hljs-number">1000</span>)))  </span><span class="line">        .signWith(secretKey)  </span><span class="line">        .compact();  </span><span class="line">  </span><span class="line">      response.addHeader(JwtProperties.getHeaderString(), JwtProperties.getTokenPrefix() + jwt);  </span><span class="line">  </span><span class="line">      filterChain.doFilter(request, response);  </span><span class="line">    }  </span><span class="line">  </span><span class="line">  }  </span><span class="line">Â </span><span class="line"><span class="hljs-comment">// ë¡œê·¸ì¸ í• ë•Œë§Œ í•´ë‹¹ í•„í„°ë¥¼ íƒ€ë„ë¡ ì„¤ì •</span></span><span class="line">  <span class="hljs-meta">@Override</span>  </span><span class="line">  <span class="hljs-keyword">protected</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">shouldNotFilter</span><span class="hljs-params">(HttpServletRequest request)</span> <span class="hljs-keyword">throws</span> ServletException {  </span><span class="line">    <span class="hljs-keyword">return</span> !request.getServletPath().equals(<span class="hljs-string">&quot;/login&quot;</span>);  </span><span class="line">  }  </span><span class="line">  </span><span class="line">  <span class="hljs-keyword">private</span> String <span class="hljs-title function_">populateAuthorities</span><span class="hljs-params">(Authentication authentication)</span> {  </span><span class="line">    Set&lt;String&gt; authorities = authentication.getAuthorities().stream()  </span><span class="line">      .map(grantedAuthority -&gt; grantedAuthority.getAuthority())  </span><span class="line">      .collect(Collectors.toSet());  </span><span class="line">    <span class="hljs-keyword">return</span> String.join(<span class="hljs-string">&quot;,&quot;</span>, authorities);  </span><span class="line">  }  </span><span class="line">}</span></code></pre>
        </div>
      
<h2 style="color:#C3E88D">
                  <span style="font-size:initial;color:#F0C292;margin-right:0.5em">h2</span>
                  Auth0 ë¼ì´ë¸ŒëŸ¬ë¦¬ JWT ì‚¬ìš©
                </h2>

        <div class="custom-code-block">
          
        <div class="custom-code-block-header">
          <div class="custom-code-block-header-left">
            <div class="custom-code-block-lang">
              <span class="custom-code-block-icon"><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>XML</title><path d="M13.4 3l-2.8 18 2.8 0 2.8-18h-2.8zM6.4 6l-3.8 6 3.8 6 2.2 0-3.8-6 3.8-6-2.2 0zM21.4 6l-3.8 6 3.8 6 2.2 0-3.8-6 3.8-6-2.2 0z"></path></svg></span>
              <span class="custom-code-block-lang-text">xml</span>
            </div>
            
          </div>
          <div class="custom-code-block-header-right">
            <div class="custom-code-block-actions">
              <button class="copy-code-button" title="Copy code">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg>
              </button>
            </div>
          </div>
        </div>
      
          <pre><code class="language-xml hljs"><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><span class="hljs-comment">&lt;!-- JWT Token --&gt;</span>  </span><span class="line">    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.auth0<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>  </span><span class="line">    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>java-jwt<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>  </span><span class="line">    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>3.18.2<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>  </span><span class="line"><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span></span></code></pre>
        </div>
      

        <div class="custom-code-block">
          
        <div class="custom-code-block-header">
          <div class="custom-code-block-header-left">
            <div class="custom-code-block-lang">
              <span class="custom-code-block-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50" width="50px" height="50px"><title>Java</title><path d="M 28.1875 0 C 30.9375 6.363281 18.328125 10.292969 17.15625 15.59375 C 16.082031 20.464844 24.648438 26.125 24.65625 26.125 C 23.355469 24.109375 22.398438 22.449219 21.09375 19.3125 C 18.886719 14.007813 34.535156 9.207031 28.1875 0 Z M 36.5625 8.8125 C 36.5625 8.8125 25.5 9.523438 24.9375 16.59375 C 24.6875 19.742188 27.847656 21.398438 27.9375 23.6875 C 28.011719 25.558594 26.0625 27.125 26.0625 27.125 C 26.0625 27.125 29.609375 26.449219 30.71875 23.59375 C 31.949219 20.425781 28.320313 18.285156 28.6875 15.75 C 29.039063 13.324219 36.5625 8.8125 36.5625 8.8125 Z M 19.1875 25.15625 C 19.1875 25.15625 9.0625 25.011719 9.0625 27.875 C 9.0625 30.867188 22.316406 31.089844 31.78125 29.25 C 31.78125 29.25 34.296875 27.519531 34.96875 26.875 C 28.765625 28.140625 14.625 28.28125 14.625 27.1875 C 14.625 26.179688 19.1875 25.15625 19.1875 25.15625 Z M 38.65625 25.15625 C 37.664063 25.234375 36.59375 25.617188 35.625 26.3125 C 37.90625 25.820313 39.84375 27.234375 39.84375 28.84375 C 39.84375 32.46875 34.59375 35.875 34.59375 35.875 C 34.59375 35.875 42.71875 34.953125 42.71875 29 C 42.71875 26.296875 40.839844 24.984375 38.65625 25.15625 Z M 16.75 30.71875 C 15.195313 30.71875 12.875 31.9375 12.875 33.09375 C 12.875 35.417969 24.5625 37.207031 33.21875 33.8125 L 30.21875 31.96875 C 24.351563 33.847656 13.546875 33.234375 16.75 30.71875 Z M 18.1875 35.9375 C 16.058594 35.9375 14.65625 37.222656 14.65625 38.1875 C 14.65625 41.171875 27.371094 41.472656 32.40625 38.4375 L 29.21875 36.40625 C 25.457031 37.996094 16.015625 38.238281 18.1875 35.9375 Z M 11.09375 38.625 C 7.625 38.554688 5.375 40.113281 5.375 41.40625 C 5.375 48.28125 40.875 47.964844 40.875 40.9375 C 40.875 39.769531 39.527344 39.203125 39.03125 38.9375 C 41.933594 45.65625 9.96875 45.121094 9.96875 41.15625 C 9.96875 40.253906 12.320313 39.390625 14.5 39.8125 L 12.65625 38.75 C 12.113281 38.667969 11.589844 38.636719 11.09375 38.625 Z M 44.625 43.25 C 39.226563 48.367188 25.546875 50.222656 11.78125 47.0625 C 25.542969 52.695313 44.558594 49.535156 44.625 43.25 Z"></path></svg></span>
              <span class="custom-code-block-lang-text">java</span>
            </div>
            
          </div>
          <div class="custom-code-block-header-right">
            <div class="custom-code-block-actions">
              <button class="copy-code-button" title="Copy code">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg>
              </button>
            </div>
          </div>
        </div>
      
          <pre><code class="language-java hljs"><span class="line"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">JwtUtil</span> {  </span><span class="line">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> String <span class="hljs-title function_">create</span><span class="hljs-params">(String subject, Long expirationMinuteTime, String secretKey, Map&lt;String, String&gt; claim)</span>{  </span><span class="line">        JWTCreator.<span class="hljs-type">Builder</span> <span class="hljs-variable">builder</span> <span class="hljs-operator">=</span>JWT.create()  </span><span class="line">                .withSubject(subject)  </span><span class="line">                .withExpiresAt(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(System.currentTimeMillis()+ (<span class="hljs-number">1000L</span> * <span class="hljs-number">60</span> * expirationMinuteTime) )); <span class="hljs-comment">//ë§Œë£Œ ì‹œê°„ milliSecond 1/1000ì´ˆ 30ë¶„ìœ¼ë¡œ ì„¤ì •í•¨  </span></span><span class="line">        claim.forEach(builder::withClaim);  </span><span class="line">        <span class="hljs-type">String</span> <span class="hljs-variable">jwtToken</span> <span class="hljs-operator">=</span> builder.sign( Algorithm.HMAC512(secretKey) ); <span class="hljs-comment">//ì„œë²„ë§Œ ì•„ëŠ” ê³ ìœ í•œ ê°’ìœ¼ë¡œ ì„¤ì •  </span></span><span class="line">  </span><span class="line">        <span class="hljs-keyword">return</span> jwtToken;  </span><span class="line">    }  </span><span class="line">}</span></code></pre>
        </div>
      
<blockquote>
<p>JWT ìƒì„± ë°©ë²•</p>
</blockquote>

        <div class="custom-code-block">
          
        <div class="custom-code-block-header">
          <div class="custom-code-block-header-left">
            <div class="custom-code-block-lang">
              <span class="custom-code-block-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50" width="50px" height="50px"><title>Java</title><path d="M 28.1875 0 C 30.9375 6.363281 18.328125 10.292969 17.15625 15.59375 C 16.082031 20.464844 24.648438 26.125 24.65625 26.125 C 23.355469 24.109375 22.398438 22.449219 21.09375 19.3125 C 18.886719 14.007813 34.535156 9.207031 28.1875 0 Z M 36.5625 8.8125 C 36.5625 8.8125 25.5 9.523438 24.9375 16.59375 C 24.6875 19.742188 27.847656 21.398438 27.9375 23.6875 C 28.011719 25.558594 26.0625 27.125 26.0625 27.125 C 26.0625 27.125 29.609375 26.449219 30.71875 23.59375 C 31.949219 20.425781 28.320313 18.285156 28.6875 15.75 C 29.039063 13.324219 36.5625 8.8125 36.5625 8.8125 Z M 19.1875 25.15625 C 19.1875 25.15625 9.0625 25.011719 9.0625 27.875 C 9.0625 30.867188 22.316406 31.089844 31.78125 29.25 C 31.78125 29.25 34.296875 27.519531 34.96875 26.875 C 28.765625 28.140625 14.625 28.28125 14.625 27.1875 C 14.625 26.179688 19.1875 25.15625 19.1875 25.15625 Z M 38.65625 25.15625 C 37.664063 25.234375 36.59375 25.617188 35.625 26.3125 C 37.90625 25.820313 39.84375 27.234375 39.84375 28.84375 C 39.84375 32.46875 34.59375 35.875 34.59375 35.875 C 34.59375 35.875 42.71875 34.953125 42.71875 29 C 42.71875 26.296875 40.839844 24.984375 38.65625 25.15625 Z M 16.75 30.71875 C 15.195313 30.71875 12.875 31.9375 12.875 33.09375 C 12.875 35.417969 24.5625 37.207031 33.21875 33.8125 L 30.21875 31.96875 C 24.351563 33.847656 13.546875 33.234375 16.75 30.71875 Z M 18.1875 35.9375 C 16.058594 35.9375 14.65625 37.222656 14.65625 38.1875 C 14.65625 41.171875 27.371094 41.472656 32.40625 38.4375 L 29.21875 36.40625 C 25.457031 37.996094 16.015625 38.238281 18.1875 35.9375 Z M 11.09375 38.625 C 7.625 38.554688 5.375 40.113281 5.375 41.40625 C 5.375 48.28125 40.875 47.964844 40.875 40.9375 C 40.875 39.769531 39.527344 39.203125 39.03125 38.9375 C 41.933594 45.65625 9.96875 45.121094 9.96875 41.15625 C 9.96875 40.253906 12.320313 39.390625 14.5 39.8125 L 12.65625 38.75 C 12.113281 38.667969 11.589844 38.636719 11.09375 38.625 Z M 44.625 43.25 C 39.226563 48.367188 25.546875 50.222656 11.78125 47.0625 C 25.542969 52.695313 44.558594 49.535156 44.625 43.25 Z"></path></svg></span>
              <span class="custom-code-block-lang-text">java</span>
            </div>
            
          </div>
          <div class="custom-code-block-header-right">
            <div class="custom-code-block-actions">
              <button class="copy-code-button" title="Copy code">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg>
              </button>
            </div>
          </div>
        </div>
      
          <pre><code class="language-java hljs"><span class="line"><span class="hljs-type">String</span> <span class="hljs-variable">jwtToken</span> <span class="hljs-operator">=</span> request.getHeader(jwtProperties.getHeaderString()).replace(jwtProperties.getTokenPrefix(), <span class="hljs-string">&quot;&quot;</span>);  </span><span class="line">            <span class="hljs-type">DecodedJWT</span> <span class="hljs-variable">decodedJWT</span> <span class="hljs-operator">=</span> JWT.require(Algorithm.HMAC512(jwtProperties.getSecretKey())).build().verify(jwtToken);  </span><span class="line">            <span class="hljs-comment">// ì´ê±° ë§Œë£Œ ì œëŒ€ë¡œ ë˜ëŠ”ì§€ë¥¼ ëª¨ë¥´ê² ëŠ”ë°  </span></span><span class="line"><span class="hljs-comment">//            decodedJWT.getExpiresAt()  </span></span><span class="line">            <span class="hljs-type">String</span> <span class="hljs-variable">username</span> <span class="hljs-operator">=</span> decodedJWT.getClaim(<span class="hljs-string">&quot;username&quot;</span>).asString();  </span><span class="line">            <span class="hljs-comment">//ì„œëª…ì´ ì •ìƒì ìœ¼ë¡œ ë¨  </span></span><span class="line">            <span class="hljs-keyword">if</span>( username != <span class="hljs-literal">null</span> ){  </span><span class="line">                <span class="hljs-type">User</span> <span class="hljs-variable">user</span> <span class="hljs-operator">=</span> userRepository.findByUsername(username);  </span><span class="line">  </span><span class="line">                <span class="hljs-type">PrincipalDetails</span> <span class="hljs-variable">principalDetails</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">PrincipalDetails</span>(user);  </span><span class="line">                <span class="hljs-comment">//JWT í† í° ì„œëª…ì„ í†µí•´ì„œ ì„œëª…ì´ ì •ìƒì´ë©´ Authentication ê°ì²´ ìƒì„±  </span></span><span class="line">                <span class="hljs-comment">//2ë²ˆì§¸ ì¸ìëŠ” ë¹„ë°€ë²ˆí˜¸ ì¸ë°  </span></span><span class="line">                <span class="hljs-type">Authentication</span> <span class="hljs-variable">authentication</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">UsernamePasswordAuthenticationToken</span>(principalDetails, <span class="hljs-literal">null</span>, principalDetails.getAuthorities());  </span><span class="line">                <span class="hljs-comment">//Security Session  </span></span><span class="line">                <span class="hljs-comment">//ê°•ì œë¡œ ì‹œíë¦¬í‹° ì„¸ì…˜ì— ì ‘ê·¼í•˜ì—¬ Authentication ê°ì²´ë¥¼ ì €ì¥  </span></span><span class="line">                SecurityContextHolder.getContext().setAuthentication(authentication);  </span><span class="line">  </span><span class="line">                <span class="hljs-type">String</span> <span class="hljs-variable">token_ip</span> <span class="hljs-operator">=</span> decodedJWT.getClaim(<span class="hljs-string">&quot;ip&quot;</span>).asString();  </span><span class="line">                <span class="hljs-keyword">if</span>( xsConfig.getConsoleConfig().isJwtIpCheckYn() &amp;&amp; !WebUtil.getIp(request).equals(token_ip) ){  </span><span class="line">                    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">InvalidClaimException</span>(String.format(<span class="hljs-string">&quot;The Claim &#x27;%s&#x27; value doesn&#x27;t match the required one.&quot;</span>, <span class="hljs-string">&quot;ip&quot;</span>));  </span><span class="line">                }  </span><span class="line">                {   <span class="hljs-comment">//ê°•ì œë¡œ ì¬ê°±ì‹  ë¡œì§ì„ ì¶”ê°€  </span></span><span class="line">                    Map&lt;String, String&gt; claim = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();  </span><span class="line">                    claim.put( <span class="hljs-string">&quot;id&quot;</span>, principalDetails.getUser().getId().toString() );  </span><span class="line">                    claim.put( <span class="hljs-string">&quot;username&quot;</span>, principalDetails.getUser().getUsername() );  </span><span class="line">                    <span class="hljs-type">String</span> <span class="hljs-variable">ip</span> <span class="hljs-operator">=</span> WebUtil.getIp(request);  </span><span class="line">                    claim.put( <span class="hljs-string">&quot;ip&quot;</span>, ip );  </span><span class="line">                    <span class="hljs-type">String</span> <span class="hljs-variable">newJwtToken</span> <span class="hljs-operator">=</span> JwtUtil.create(principalDetails.getUsername(), jwtProperties.getExpirationMinuteTime(), jwtProperties.getSecretKey(), claim);  </span><span class="line">  </span><span class="line">                    <span class="hljs-comment">// í´ë¼ì´ì–¸íŠ¸ì—ê²Œ JWT í† í°ì„ ì „ë‹¬  </span></span><span class="line">                    response.addHeader(jwtProperties.getHeaderString(), jwtProperties.getTokenPrefix() + newJwtToken);  </span><span class="line">                }  </span><span class="line">            }</span></code></pre>
        </div>
      
<blockquote>
<p>JWT ê²€ì¦ ë°©ë²•</p>
</blockquote>
</div><div class="PostDetail_tags__cU2Aj"><span class="PostDetail_tag__rvoZS">#<!-- -->Spring</span><span class="PostDetail_tag__rvoZS">#<!-- -->Spring/Security</span></div></article></div><!--$--><!--/$--><!--$--><!--/$--></main><script src="/github-blog/_next/static/chunks/webpack-4fec53b9af6cf440.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:\"$Sreact.fragment\"\n2:I[7913,[\"874\",\"static/chunks/874-4886b34c1bdf6dbd.js\",\"177\",\"static/chunks/app/layout-89cb764941d28217.js\"],\"default\"]\n3:I[7555,[],\"\"]\n4:I[1295,[],\"\"]\n6:I[9665,[],\"MetadataBoundary\"]\n8:I[9665,[],\"OutletBoundary\"]\nb:I[4911,[],\"AsyncMetadataOutlet\"]\nd:I[9665,[],\"ViewportBoundary\"]\nf:I[6614,[],\"\"]\n:HL[\"/github-blog/_next/static/css/a8e036e7bd01ae38.css\",\"style\"]\n:HL[\"/github-blog/_next/static/css/0d98168a1605ff50.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"0:{\"P\":null,\"b\":\"OHWkggd69t15XVbBSRAU1\",\"p\":\"/github-blog\",\"c\":[\"\",\"blog\",\"7ee1677e\",\"\"],\"i\":false,\"f\":[[[\"\",{\"children\":[\"blog\",{\"children\":[[\"slugHash\",\"7ee1677e\",\"d\"],{\"children\":[\"__PAGE__\",{}]}]}]},\"$undefined\",\"$undefined\",true],[\"\",[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/github-blog/_next/static/css/a8e036e7bd01ae38.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],[\"$\",\"html\",null,{\"lang\":\"kr\",\"children\":[\"$\",\"body\",null,{\"children\":[[\"$\",\"$L2\",null,{}],[\"$\",\"main\",null,{\"children\":[\"$\",\"$L3\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L4\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":404}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],[]],\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]}]]}]}]]}],{\"children\":[\"blog\",[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L3\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L4\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[[\"slugHash\",\"7ee1677e\",\"d\"],[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L3\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L4\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[\"__PAGE__\",[\"$\",\"$1\",\"c\",{\"children\":[\"$L5\",[\"$\",\"$L6\",null,{\"children\":\"$L7\"}],[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/github-blog/_next/static/css/0d98168a1605ff50.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],[\"$\",\"$L8\",null,{\"children\":[\"$L9\",\"$La\",[\"$\",\"$Lb\",null,{\"promise\":\"$@c\"}]]}]]}],{},null,false]},null,false]},null,false]},null,false],[\"$\",\"$1\",\"h\",{\"children\":[null,[\"$\",\"$1\",\"jmEbUCuysQzGbfwOIDRRd\",{\"children\":[[\"$\",\"$Ld\",null,{\"children\":\"$Le\"}],null]}],null]}],false]],\"m\":\"$undefined\",\"G\":[\"$f\",\"$undefined\"],\"s\":false,\"S\":true}\n"])</script><script>self.__next_f.push([1,"10:\"$Sreact.suspense\"\n11:I[4911,[],\"AsyncMetadata\"]\n7:[\"$\",\"$10\",null,{\"fallback\":null,\"children\":[\"$\",\"$L11\",null,{\"promise\":\"$@12\"}]}]\n"])</script><script>self.__next_f.push([1,"a:null\n"])</script><script>self.__next_f.push([1,"13:I[733,[\"63\",\"static/chunks/63-0fba559ac1db5822.js\",\"727\",\"static/chunks/727-712d691b8b7a510e.js\",\"401\",\"static/chunks/app/blog/%5BslugHash%5D/page-0008b9761f15a304.js\"],\"default\"]\n14:Ta0e5,"])</script><script>self.__next_f.push([1,"\u003ch1 style=\"color: #82AAFF;\"\u003e\n                  \u003cspan style=\"font-size: initial; color: #F0C292; margin-right: 0.5em;\"\u003eh1\u003c/span\u003e\n                  JWT(JSON Web Token)\n                \u003c/h1\u003e\n\u003ch2 style=\"color: #C3E88D;\"\u003e\n                  \u003cspan style=\"font-size: initial; color: #F0C292; margin-right: 0.5em;\"\u003eh2\u003c/span\u003e\n                  JSESSIONID ë‹¨ì \n                \u003c/h2\u003e\n\u003cp\u003eí† í°ì— ìœ ì € ë°ì´í„°ë¥¼ ë„£ì„ ìˆ˜ ì—†ìŒ\u003cbr\u003eJSESSIONID í›”ì¹˜ê¸° ê°€ëŠ¥ (JWT ë˜í•œ í›”ì¹  ìˆ˜ ìˆëŠ”ë°?)\u003c/p\u003e\n\u003ch2 style=\"color: #C3E88D;\"\u003e\n                  \u003cspan style=\"font-size: initial; color: #F0C292; margin-right: 0.5em;\"\u003eh2\u003c/span\u003e\n                  í† í°ì˜ ì¥ì \n                \u003c/h2\u003e\n\u003cp\u003eìê²© ì¦ëª…ì„ ë°˜ë³µí•´ì„œ ê³µìœ í•˜ì§€ ì•Šì•„ë„ ë˜ë¯€ë¡œ ë³´ì•ˆì ì¸ ì´ì \u003cbr\u003eí•´ì»¤ê°€ í† í°ì„ íƒˆì·¨í•´ë„ í† í°ì„ ë¬´íš¨í™”ì‹œí‚¬ ìˆ˜ ìˆì–´ì„œ ë³´ì•ˆì— ìœ ë¦¬ (? ëˆ„ê°€ ë“¤ìœ¼ë©´ JSESSIONID ëŠ” ë¬´íš¨í™” ì•ˆë˜ëŠ”ì§€ ì•Œê² ë„¤)\u003cbr\u003eí† í°ì˜ ìˆ˜ëª… ì„¤ì • ê°€ëŠ¥ ë° ì¬ì‚¬ìš© ê°€ëŠ¥\u003cbr\u003eë¬´ìƒíƒœ ìœ ì§€ ê°€ëŠ¥\u003cbr\u003eë‹¨ìˆœí•˜ê²Œ ë¬´ìƒíƒœ ìœ ì§€ì™€ í† í°ì˜ ë°œí–‰ìê°€ ì„œë²„ë¼ëŠ” ê²ƒì„ ì¦ëª…ê°€ëŠ¥í•œ ê²ƒ\u003c/p\u003e\n\u003ch2 style=\"color: #C3E88D;\"\u003e\n                  \u003cspan style=\"font-size: initial; color: #F0C292; margin-right: 0.5em;\"\u003eh2\u003c/span\u003e\n                  JWT í† í°ì˜ ë‚´ë¶€ êµ¬ì¡°\n                \u003c/h2\u003e\n\u003cp\u003e\u003ccode\u003eaaaaaaa.bbbbbbb.ccccc\u003c/code\u003e\u003cbr\u003eaaa ë¡œ ëœ ë¶€ë¶„ì€ í—¤ë”(header) ë¶€ë¶„\u003cbr\u003ebbb ë¡œ ëœ ë¶€ë¶„ì€ ë‚´ìš©(payload) ë¶€ë¶„\u003cbr\u003eccc ë¡œ ëœ ë¶€ë¶„ì€ ì„œëª…(signature) ë¶€ë¶„ - í•´ë‹¹ ë¶€ë¶„ì€ ì„ íƒ ì‚¬í•­\u003c/p\u003e\n\u003cp\u003eê° ë¶€ë¶„ì˜ êµ¬ë¶„ì€ \u003ccode\u003e.\u003c/code\u003e ì„ í†µí•´ì„œ êµ¬ë¶„\u003cbr\u003e\u003ccode\u003eHMACSHA256(base64UrlEncode(header) + \".\" + base64UrlEncode(payload), secret)\u003c/code\u003e\u003c/p\u003e\n\u003ch3 style=\"color: #C792EA;\"\u003e\n                  \u003cspan style=\"font-size: initial; color: #F0C292; margin-right: 0.5em;\"\u003eh3\u003c/span\u003e\n                  header\n                \u003c/h3\u003e\n\u003cp\u003eì–´ë–¤ ì•Œê³ ë¦¬ì¦˜ì„ ì‚¬ìš©í•˜ëŠ”ì§€\u003cbr\u003eí† í°ì˜ ì¢…ë¥˜ê°€ ë¬´ì—‡ì¸ì§€\u003cbr\u003eJWT í† í°ì„ ìƒì„±í•˜ë©° ì‚¬ìš©ëœ í† í°ì˜ í˜•ì‹ì€ ì–´ë–¤ê²ƒì¸ì§€\u003cbr\u003eë³´í†µ í•´ë‹¹ ë°ì´í„°ë¥¼ Base64 Encoded ë¥¼ ì§„í–‰í•˜ì—¬ ê°€ì¥ ì•ì— ë¶™ì„\u003c/p\u003e\n\n        \u003cdiv class=\"custom-code-block\"\u003e\n          \n        \u003cdiv class=\"custom-code-block-header\"\u003e\n          \u003cdiv class=\"custom-code-block-header-left\"\u003e\n            \u003cdiv class=\"custom-code-block-lang\"\u003e\n              \u003cspan class=\"custom-code-block-icon\"\u003e\u003csvg role=\"img\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"\u003e\u003ctitle\u003eJSON\u003c/title\u003e\u003cpath d=\"M1.59 2.085c-.51.345-.84 1.005-.84 1.665v16.5c0 .66.33 1.32.84 1.665.51.345 1.155.345 1.665 0l1.68-1.11c.345-.225.555-.615.555-1.02V4.215c0-.405-.21-.81-.555-1.02l-1.68-1.11c-.51-.345-1.155-.345-1.665 0zm20.82 0c-.51.345-1.155-.345-1.665 0l-1.68 1.11c-.345-.225-.555-.615-.555 1.02v15.45c0 .405.21.81.555 1.02l1.68 1.11c.51.345 1.155.345 1.665 0 .51-.345.84-1.005.84-1.665V3.75c0-.66-.33-1.32-.84-1.665zM9 15.75c0 1.245.99 2.25 2.25 2.25S13.5 17.01 13.5 15.75s-.99-2.25-2.25-2.25-2.25.99-2.25 2.25zm6 0c0 1.245.99 2.25 2.25 2.25s2.25-.99 2.25-2.25-.99-2.25-2.25-2.25-2.25.99-2.25 2.25z\"/\u003e\u003c/svg\u003e\u003c/span\u003e\n              \u003cspan class=\"custom-code-block-lang-text\"\u003ejson\u003c/span\u003e\n            \u003c/div\u003e\n            \n          \u003c/div\u003e\n          \u003cdiv class=\"custom-code-block-header-right\"\u003e\n            \u003cdiv class=\"custom-code-block-actions\"\u003e\n              \u003cbutton class=\"copy-code-button\" title=\"Copy code\"\u003e\n                \u003csvg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"\u003e\u003crect x=\"9\" y=\"9\" width=\"13\" height=\"13\" rx=\"2\" ry=\"2\"\u003e\u003c/rect\u003e\u003cpath d=\"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1\"\u003e\u003c/path\u003e\u003c/svg\u003e\n              \u003c/button\u003e\n            \u003c/div\u003e\n          \u003c/div\u003e\n        \u003c/div\u003e\n      \n          \u003cpre\u003e\u003ccode class=\"language-json hljs\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"hljs-punctuation\"\u003e{\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\t\u003cspan class=\"hljs-attr\"\u003e\u0026quot;alg\u0026quot;\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e:\u003c/span\u003e\u003cspan class=\"hljs-string\"\u003e\u0026quot;HS256\u0026quot;\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e,\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\t\u003cspan class=\"hljs-attr\"\u003e\u0026quot;typ\u0026quot;\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e:\u003c/span\u003e\u003cspan class=\"hljs-string\"\u003e\u0026quot;JWT\u0026quot;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"hljs-punctuation\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n        \u003c/div\u003e\n      \n\u003cblockquote\u003e\n\u003cp\u003eí•´ë‹¹ ë°ì´í„°ë¥¼ Base64 ë¡œ ë³€í™˜í•˜ì—¬ header ìœ„ì¹˜ì— ë“±ë¡\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch3 style=\"color: #C792EA;\"\u003e\n                  \u003cspan style=\"font-size: initial; color: #F0C292; margin-right: 0.5em;\"\u003eh3\u003c/span\u003e\n                  payload\n                \u003c/h3\u003e\n\u003cp\u003eìœ ì €ì— ëŒ€í•œ ì •ë³´ë¥¼ ì €ì¥ (ë„£ëŠ” ì‚¬ëŒì´ ë„£ê³  ì‹¶ì€ ë‚´ìš©ì„ ì‘ì„±)\u003c/p\u003e\n\n        \u003cdiv class=\"custom-code-block\"\u003e\n          \n        \u003cdiv class=\"custom-code-block-header\"\u003e\n          \u003cdiv class=\"custom-code-block-header-left\"\u003e\n            \u003cdiv class=\"custom-code-block-lang\"\u003e\n              \u003cspan class=\"custom-code-block-icon\"\u003e\u003csvg role=\"img\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"\u003e\u003ctitle\u003eJSON\u003c/title\u003e\u003cpath d=\"M1.59 2.085c-.51.345-.84 1.005-.84 1.665v16.5c0 .66.33 1.32.84 1.665.51.345 1.155.345 1.665 0l1.68-1.11c.345-.225.555-.615.555-1.02V4.215c0-.405-.21-.81-.555-1.02l-1.68-1.11c-.51-.345-1.155-.345-1.665 0zm20.82 0c-.51.345-1.155-.345-1.665 0l-1.68 1.11c-.345-.225-.555-.615-.555 1.02v15.45c0 .405.21.81.555 1.02l1.68 1.11c.51.345 1.155.345 1.665 0 .51-.345.84-1.005.84-1.665V3.75c0-.66-.33-1.32-.84-1.665zM9 15.75c0 1.245.99 2.25 2.25 2.25S13.5 17.01 13.5 15.75s-.99-2.25-2.25-2.25-2.25.99-2.25 2.25zm6 0c0 1.245.99 2.25 2.25 2.25s2.25-.99 2.25-2.25-.99-2.25-2.25-2.25-2.25.99-2.25 2.25z\"/\u003e\u003c/svg\u003e\u003c/span\u003e\n              \u003cspan class=\"custom-code-block-lang-text\"\u003ejson\u003c/span\u003e\n            \u003c/div\u003e\n            \n          \u003c/div\u003e\n          \u003cdiv class=\"custom-code-block-header-right\"\u003e\n            \u003cdiv class=\"custom-code-block-actions\"\u003e\n              \u003cbutton class=\"copy-code-button\" title=\"Copy code\"\u003e\n                \u003csvg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"\u003e\u003crect x=\"9\" y=\"9\" width=\"13\" height=\"13\" rx=\"2\" ry=\"2\"\u003e\u003c/rect\u003e\u003cpath d=\"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1\"\u003e\u003c/path\u003e\u003c/svg\u003e\n              \u003c/button\u003e\n            \u003c/div\u003e\n          \u003c/div\u003e\n        \u003c/div\u003e\n      \n          \u003cpre\u003e\u003ccode class=\"language-json hljs\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"hljs-punctuation\"\u003e{\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\t\u003cspan class=\"hljs-attr\"\u003e\u0026quot;sub\u0026quot;\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e:\u003c/span\u003e\u003cspan class=\"hljs-string\"\u003e\u0026quot;12345\u0026quot;\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e,\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\t\u003cspan class=\"hljs-attr\"\u003e\u0026quot;name\u0026quot;\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e:\u003c/span\u003e\u003cspan class=\"hljs-string\"\u003e\u0026quot;John Doe\u0026quot;\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e,\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\t\u003cspan class=\"hljs-attr\"\u003e\u0026quot;iat\u0026quot;\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e:\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e1516239022\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"hljs-punctuation\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n        \u003c/div\u003e\n      \n\u003cblockquote\u003e\n\u003cp\u003eí•´ë‹¹ ë°ì´í„°ë¥¼ Base64 ë¡œ ë³€í™˜í•˜ì—¬ payload ìœ„ì¹˜ì— ë“±ë¡\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch4 style=\"color: #89DDFF;\"\u003e\n                  \u003cspan style=\"font-size: initial; color: #F0C292; margin-right: 0.5em;\"\u003eh4\u003c/span\u003e\n                  Registered Claim(ë“±ë¡ëœ í´ë ˆì„)\n                \u003c/h4\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003eiss\u003c/code\u003e: í† í° ë°œê¸‰ì(issuer)\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003esub\u003c/code\u003e: í† í° ì œëª© (subject)\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003eaud\u003c/code\u003e: í† í° ëŒ€ìƒì (audience)\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003eexp\u003c/code\u003e: í† í°ì˜ ë§Œë£Œì‹œê°„ (expiraton), ì‹œê°„ì€ NumericDate í˜•ì‹ìœ¼ë¡œ ë˜ì–´ìˆì–´ì•¼ í•˜ë©° (ì˜ˆ:Â 1480849147370) ì–¸ì œë‚˜ í˜„ì¬ ì‹œê°„ë³´ë‹¤ ì´í›„ë¡œ ì„¤ì •ë˜ì–´ìˆì–´ì•¼í•©ë‹ˆë‹¤.\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003enbf\u003c/code\u003e: Not Before ë¥¼ ì˜ë¯¸í•˜ë©°, í† í°ì˜ í™œì„± ë‚ ì§œì™€ ë¹„ìŠ·í•œ ê°œë…ì…ë‹ˆë‹¤. ì—¬ê¸°ì—ë„ NumericDate í˜•ì‹ìœ¼ë¡œ ë‚ ì§œë¥¼ ì§€ì •í•˜ë©°, ì´ ë‚ ì§œê°€ ì§€ë‚˜ê¸° ì „ê¹Œì§€ëŠ” í† í°ì´ ì²˜ë¦¬ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003eiat\u003c/code\u003e: í† í°ì´ ë°œê¸‰ëœ ì‹œê°„ (issued at), ì´ ê°’ì„ ì‚¬ìš©í•˜ì—¬ í† í°ì˜Â \u003ccode\u003eage\u003c/code\u003eÂ ê°€ ì–¼ë§ˆë‚˜ ë˜ì—ˆëŠ”ì§€ íŒë‹¨ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003ejti\u003c/code\u003e:Â JWTì˜ ê³ ìœ  ì‹ë³„ìë¡œì„œ, ì£¼ë¡œ ì¤‘ë³µì ì¸ ì²˜ë¦¬ë¥¼ ë°©ì§€í•˜ê¸° ìœ„í•˜ì—¬ ì‚¬ìš©ë©ë‹ˆë‹¤. ì¼íšŒìš© í† í°ì— ì‚¬ìš©í•˜ë©´ ìœ ìš©í•©ë‹ˆë‹¤.\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 style=\"color: #C792EA;\"\u003e\n                  \u003cspan style=\"font-size: initial; color: #F0C292; margin-right: 0.5em;\"\u003eh3\u003c/span\u003e\n                  signature\n                \u003c/h3\u003e\n\u003cp\u003eì„œëª… ê°’ì„ ë“±ë¡í•´ì„œ ë³´ë‚¼ ê²½ìš° ë‚´ë¶€ ê°’ì„ í•´ì‹œê°’ì— ì˜í•´ ë³´í˜¸ ë¨ìœ¼ë¡œ ìˆ˜ì •í•´ë„ ì˜ë¯¸ê°€ ì—†ê¸° ë•Œë¬¸ì— ë³´ì•ˆì ìœ¼ë¡œ ì•ˆì „\u003c/p\u003e\n\u003ch2 style=\"color: #C3E88D;\"\u003e\n                  \u003cspan style=\"font-size: initial; color: #F0C292; margin-right: 0.5em;\"\u003eh2\u003c/span\u003e\n                  jjwt ë¼ì´ë¸ŒëŸ¬ë¦¬ JWT ì„¤ì •\n                \u003c/h2\u003e\n\n        \u003cdiv class=\"custom-code-block\"\u003e\n          \n        \u003cdiv class=\"custom-code-block-header\"\u003e\n          \u003cdiv class=\"custom-code-block-header-left\"\u003e\n            \u003cdiv class=\"custom-code-block-lang\"\u003e\n              \u003cspan class=\"custom-code-block-icon\"\u003e\u003csvg role=\"img\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"\u003e\u003ctitle\u003eXML\u003c/title\u003e\u003cpath d=\"M13.4 3l-2.8 18 2.8 0 2.8-18h-2.8zM6.4 6l-3.8 6 3.8 6 2.2 0-3.8-6 3.8-6-2.2 0zM21.4 6l-3.8 6 3.8 6 2.2 0-3.8-6 3.8-6-2.2 0z\"/\u003e\u003c/svg\u003e\u003c/span\u003e\n              \u003cspan class=\"custom-code-block-lang-text\"\u003exml\u003c/span\u003e\n            \u003c/div\u003e\n            \n          \u003c/div\u003e\n          \u003cdiv class=\"custom-code-block-header-right\"\u003e\n            \u003cdiv class=\"custom-code-block-actions\"\u003e\n              \u003cbutton class=\"copy-code-button\" title=\"Copy code\"\u003e\n                \u003csvg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"\u003e\u003crect x=\"9\" y=\"9\" width=\"13\" height=\"13\" rx=\"2\" ry=\"2\"\u003e\u003c/rect\u003e\u003cpath d=\"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1\"\u003e\u003c/path\u003e\u003c/svg\u003e\n              \u003c/button\u003e\n            \u003c/div\u003e\n          \u003c/div\u003e\n        \u003c/div\u003e\n      \n          \u003cpre\u003e\u003ccode class=\"language-xml hljs\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003edependency\u003c/span\u003e\u0026gt;\u003c/span\u003e  \u003c/span\u003e\u003cspan class=\"line\"\u003e    \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003egroupId\u003c/span\u003e\u0026gt;\u003c/span\u003eio.jsonwebtoken\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003egroupId\u003c/span\u003e\u0026gt;\u003c/span\u003e  \u003c/span\u003e\u003cspan class=\"line\"\u003e    \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eartifactId\u003c/span\u003e\u0026gt;\u003c/span\u003ejjwt-api\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eartifactId\u003c/span\u003e\u0026gt;\u003c/span\u003e  \u003c/span\u003e\u003cspan class=\"line\"\u003e    \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eversion\u003c/span\u003e\u0026gt;\u003c/span\u003e0.12.3\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eversion\u003c/span\u003e\u0026gt;\u003c/span\u003e  \u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003edependency\u003c/span\u003e\u0026gt;\u003c/span\u003e  \u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003edependency\u003c/span\u003e\u0026gt;\u003c/span\u003e  \u003c/span\u003e\u003cspan class=\"line\"\u003e    \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003egroupId\u003c/span\u003e\u0026gt;\u003c/span\u003eio.jsonwebtoken\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003egroupId\u003c/span\u003e\u0026gt;\u003c/span\u003e  \u003c/span\u003e\u003cspan class=\"line\"\u003e    \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eartifactId\u003c/span\u003e\u0026gt;\u003c/span\u003ejjwt-impl\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eartifactId\u003c/span\u003e\u0026gt;\u003c/span\u003e  \u003c/span\u003e\u003cspan class=\"line\"\u003e    \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eversion\u003c/span\u003e\u0026gt;\u003c/span\u003e0.12.3\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eversion\u003c/span\u003e\u0026gt;\u003c/span\u003e  \u003c/span\u003e\u003cspan class=\"line\"\u003e    \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003escope\u003c/span\u003e\u0026gt;\u003c/span\u003eruntime\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003escope\u003c/span\u003e\u0026gt;\u003c/span\u003e  \u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003edependency\u003c/span\u003e\u0026gt;\u003c/span\u003e  \u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003edependency\u003c/span\u003e\u0026gt;\u003c/span\u003e  \u003c/span\u003e\u003cspan class=\"line\"\u003e    \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003egroupId\u003c/span\u003e\u0026gt;\u003c/span\u003eio.jsonwebtoken\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003egroupId\u003c/span\u003e\u0026gt;\u003c/span\u003e  \u003c/span\u003e\u003cspan class=\"line\"\u003e    \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eartifactId\u003c/span\u003e\u0026gt;\u003c/span\u003ejjwt-jackson\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eartifactId\u003c/span\u003e\u0026gt;\u003c/span\u003e  \u003c/span\u003e\u003cspan class=\"line\"\u003e    \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eversion\u003c/span\u003e\u0026gt;\u003c/span\u003e0.12.3\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eversion\u003c/span\u003e\u0026gt;\u003c/span\u003e  \u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003edependency\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n        \u003c/div\u003e\n      \n\u003cblockquote\u003e\n\u003cp\u003epom.xml\u003c/p\u003e\n\u003c/blockquote\u003e\n\n        \u003cdiv class=\"custom-code-block\"\u003e\n          \n        \u003cdiv class=\"custom-code-block-header\"\u003e\n          \u003cdiv class=\"custom-code-block-header-left\"\u003e\n            \u003cdiv class=\"custom-code-block-lang\"\u003e\n              \u003cspan class=\"custom-code-block-icon\"\u003e\u003csvg xmlns=\"http://www.w3.org/2000/svg\"  viewBox=\"0 0 50 50\" width=\"50px\" height=\"50px\"\u003e\u003ctitle\u003eJava\u003c/title\u003e\u003cpath d=\"M 28.1875 0 C 30.9375 6.363281 18.328125 10.292969 17.15625 15.59375 C 16.082031 20.464844 24.648438 26.125 24.65625 26.125 C 23.355469 24.109375 22.398438 22.449219 21.09375 19.3125 C 18.886719 14.007813 34.535156 9.207031 28.1875 0 Z M 36.5625 8.8125 C 36.5625 8.8125 25.5 9.523438 24.9375 16.59375 C 24.6875 19.742188 27.847656 21.398438 27.9375 23.6875 C 28.011719 25.558594 26.0625 27.125 26.0625 27.125 C 26.0625 27.125 29.609375 26.449219 30.71875 23.59375 C 31.949219 20.425781 28.320313 18.285156 28.6875 15.75 C 29.039063 13.324219 36.5625 8.8125 36.5625 8.8125 Z M 19.1875 25.15625 C 19.1875 25.15625 9.0625 25.011719 9.0625 27.875 C 9.0625 30.867188 22.316406 31.089844 31.78125 29.25 C 31.78125 29.25 34.296875 27.519531 34.96875 26.875 C 28.765625 28.140625 14.625 28.28125 14.625 27.1875 C 14.625 26.179688 19.1875 25.15625 19.1875 25.15625 Z M 38.65625 25.15625 C 37.664063 25.234375 36.59375 25.617188 35.625 26.3125 C 37.90625 25.820313 39.84375 27.234375 39.84375 28.84375 C 39.84375 32.46875 34.59375 35.875 34.59375 35.875 C 34.59375 35.875 42.71875 34.953125 42.71875 29 C 42.71875 26.296875 40.839844 24.984375 38.65625 25.15625 Z M 16.75 30.71875 C 15.195313 30.71875 12.875 31.9375 12.875 33.09375 C 12.875 35.417969 24.5625 37.207031 33.21875 33.8125 L 30.21875 31.96875 C 24.351563 33.847656 13.546875 33.234375 16.75 30.71875 Z M 18.1875 35.9375 C 16.058594 35.9375 14.65625 37.222656 14.65625 38.1875 C 14.65625 41.171875 27.371094 41.472656 32.40625 38.4375 L 29.21875 36.40625 C 25.457031 37.996094 16.015625 38.238281 18.1875 35.9375 Z M 11.09375 38.625 C 7.625 38.554688 5.375 40.113281 5.375 41.40625 C 5.375 48.28125 40.875 47.964844 40.875 40.9375 C 40.875 39.769531 39.527344 39.203125 39.03125 38.9375 C 41.933594 45.65625 9.96875 45.121094 9.96875 41.15625 C 9.96875 40.253906 12.320313 39.390625 14.5 39.8125 L 12.65625 38.75 C 12.113281 38.667969 11.589844 38.636719 11.09375 38.625 Z M 44.625 43.25 C 39.226563 48.367188 25.546875 50.222656 11.78125 47.0625 C 25.542969 52.695313 44.558594 49.535156 44.625 43.25 Z\"/\u003e\u003c/svg\u003e\u003c/span\u003e\n              \u003cspan class=\"custom-code-block-lang-text\"\u003ejava\u003c/span\u003e\n            \u003c/div\u003e\n            \n          \u003c/div\u003e\n          \u003cdiv class=\"custom-code-block-header-right\"\u003e\n            \u003cdiv class=\"custom-code-block-actions\"\u003e\n              \u003cbutton class=\"copy-code-button\" title=\"Copy code\"\u003e\n                \u003csvg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"\u003e\u003crect x=\"9\" y=\"9\" width=\"13\" height=\"13\" rx=\"2\" ry=\"2\"\u003e\u003c/rect\u003e\u003cpath d=\"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1\"\u003e\u003c/path\u003e\u003c/svg\u003e\n              \u003c/button\u003e\n            \u003c/div\u003e\n          \u003c/div\u003e\n        \u003c/div\u003e\n      \n          \u003cpre\u003e\u003ccode class=\"language-java hljs\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"hljs-meta\"\u003e@EnableWebSecurity\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"hljs-meta\"\u003e@Configuration\u003c/span\u003e  \u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"hljs-keyword\"\u003epublic\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eSecurityConfig\u003c/span\u003e {  \u003c/span\u003e\u003cspan class=\"line\"\u003e  \u003cspan class=\"hljs-meta\"\u003e@Bean\u003c/span\u003e  \u003c/span\u003e\u003cspan class=\"line\"\u003e  SecurityFilterChain \u003cspan class=\"hljs-title function_\"\u003esecurityFilterChain\u003c/span\u003e\u003cspan class=\"hljs-params\"\u003e(HttpSecurity http)\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003ethrows\u003c/span\u003e Exception {  \u003c/span\u003e\u003cspan class=\"line\"\u003e  ...\u003c/span\u003e\u003cspan class=\"line\"\u003e  http.sessionManagement(sessionManagement -\u0026gt; sessionManagement.sessionCreationPolicy(SessionCreationPolicy.STATELESS));\u003c/span\u003e\u003cspan class=\"line\"\u003e  ...\u003c/span\u003e\u003cspan class=\"line\"\u003e  }\u003c/span\u003e\u003cspan class=\"line\"\u003e  ...\u003c/span\u003e\u003cspan class=\"line\"\u003e  \u003cspan class=\"hljs-keyword\"\u003epublic\u003c/span\u003e CorsConfiguration \u003cspan class=\"hljs-title function_\"\u003ecorsConfiguration\u003c/span\u003e\u003cspan class=\"hljs-params\"\u003e()\u003c/span\u003e {  \u003c/span\u003e\u003cspan class=\"line\"\u003e    \u003cspan class=\"hljs-type\"\u003eCorsConfiguration\u003c/span\u003e \u003cspan class=\"hljs-variable\"\u003ecorsConfig\u003c/span\u003e \u003cspan class=\"hljs-operator\"\u003e=\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eCorsConfiguration\u003c/span\u003e();  \u003c/span\u003e\u003cspan class=\"line\"\u003e    ...\u003c/span\u003e\u003cspan class=\"line\"\u003e    \u003cspan class=\"hljs-comment\"\u003e// JWT í† í°ì„ ì‚¬ìš©í•˜ê¸° ìœ„í•´ Authorization í—¤ë”ë¥¼ ë…¸ì¶œì‹œí‚´  \u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e    corsConfig.setExposedHeaders(List.of(\u003cspan class=\"hljs-string\"\u003e\u0026quot;Authorization\u0026quot;\u003c/span\u003e));  \u003c/span\u003e\u003cspan class=\"line\"\u003e    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e corsConfig;\u003c/span\u003e\u003cspan class=\"line\"\u003e  }\u003c/span\u003e\u003cspan class=\"line\"\u003e}\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n        \u003c/div\u003e\n      \n\u003cblockquote\u003e\n\u003cp\u003esession ë¶ˆí•„ìš”, Authorization í—¤ë” ë°›ëŠ” ê²ƒì„ í—ˆìš©\u003c/p\u003e\n\u003c/blockquote\u003e\n\n        \u003cdiv class=\"custom-code-block\"\u003e\n          \n        \u003cdiv class=\"custom-code-block-header\"\u003e\n          \u003cdiv class=\"custom-code-block-header-left\"\u003e\n            \u003cdiv class=\"custom-code-block-lang\"\u003e\n              \u003cspan class=\"custom-code-block-icon\"\u003e\u003csvg xmlns=\"http://www.w3.org/2000/svg\"  viewBox=\"0 0 50 50\" width=\"50px\" height=\"50px\"\u003e\u003ctitle\u003eJava\u003c/title\u003e\u003cpath d=\"M 28.1875 0 C 30.9375 6.363281 18.328125 10.292969 17.15625 15.59375 C 16.082031 20.464844 24.648438 26.125 24.65625 26.125 C 23.355469 24.109375 22.398438 22.449219 21.09375 19.3125 C 18.886719 14.007813 34.535156 9.207031 28.1875 0 Z M 36.5625 8.8125 C 36.5625 8.8125 25.5 9.523438 24.9375 16.59375 C 24.6875 19.742188 27.847656 21.398438 27.9375 23.6875 C 28.011719 25.558594 26.0625 27.125 26.0625 27.125 C 26.0625 27.125 29.609375 26.449219 30.71875 23.59375 C 31.949219 20.425781 28.320313 18.285156 28.6875 15.75 C 29.039063 13.324219 36.5625 8.8125 36.5625 8.8125 Z M 19.1875 25.15625 C 19.1875 25.15625 9.0625 25.011719 9.0625 27.875 C 9.0625 30.867188 22.316406 31.089844 31.78125 29.25 C 31.78125 29.25 34.296875 27.519531 34.96875 26.875 C 28.765625 28.140625 14.625 28.28125 14.625 27.1875 C 14.625 26.179688 19.1875 25.15625 19.1875 25.15625 Z M 38.65625 25.15625 C 37.664063 25.234375 36.59375 25.617188 35.625 26.3125 C 37.90625 25.820313 39.84375 27.234375 39.84375 28.84375 C 39.84375 32.46875 34.59375 35.875 34.59375 35.875 C 34.59375 35.875 42.71875 34.953125 42.71875 29 C 42.71875 26.296875 40.839844 24.984375 38.65625 25.15625 Z M 16.75 30.71875 C 15.195313 30.71875 12.875 31.9375 12.875 33.09375 C 12.875 35.417969 24.5625 37.207031 33.21875 33.8125 L 30.21875 31.96875 C 24.351563 33.847656 13.546875 33.234375 16.75 30.71875 Z M 18.1875 35.9375 C 16.058594 35.9375 14.65625 37.222656 14.65625 38.1875 C 14.65625 41.171875 27.371094 41.472656 32.40625 38.4375 L 29.21875 36.40625 C 25.457031 37.996094 16.015625 38.238281 18.1875 35.9375 Z M 11.09375 38.625 C 7.625 38.554688 5.375 40.113281 5.375 41.40625 C 5.375 48.28125 40.875 47.964844 40.875 40.9375 C 40.875 39.769531 39.527344 39.203125 39.03125 38.9375 C 41.933594 45.65625 9.96875 45.121094 9.96875 41.15625 C 9.96875 40.253906 12.320313 39.390625 14.5 39.8125 L 12.65625 38.75 C 12.113281 38.667969 11.589844 38.636719 11.09375 38.625 Z M 44.625 43.25 C 39.226563 48.367188 25.546875 50.222656 11.78125 47.0625 C 25.542969 52.695313 44.558594 49.535156 44.625 43.25 Z\"/\u003e\u003c/svg\u003e\u003c/span\u003e\n              \u003cspan class=\"custom-code-block-lang-text\"\u003ejava\u003c/span\u003e\n            \u003c/div\u003e\n            \n          \u003c/div\u003e\n          \u003cdiv class=\"custom-code-block-header-right\"\u003e\n            \u003cdiv class=\"custom-code-block-actions\"\u003e\n              \u003cbutton class=\"copy-code-button\" title=\"Copy code\"\u003e\n                \u003csvg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"\u003e\u003crect x=\"9\" y=\"9\" width=\"13\" height=\"13\" rx=\"2\" ry=\"2\"\u003e\u003c/rect\u003e\u003cpath d=\"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1\"\u003e\u003c/path\u003e\u003c/svg\u003e\n              \u003c/button\u003e\n            \u003c/div\u003e\n          \u003c/div\u003e\n        \u003c/div\u003e\n      \n          \u003cpre\u003e\u003ccode class=\"language-java hljs\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"hljs-meta\"\u003e@Slf4j\u003c/span\u003e  \u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"hljs-keyword\"\u003epublic\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eJWTTokenGeneratorFilter\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eextends\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eOncePerRequestFilter\u003c/span\u003e {  \u003c/span\u003e\u003cspan class=\"line\"\u003e  \u003cspan class=\"hljs-meta\"\u003e@Override\u003c/span\u003e  \u003c/span\u003e\u003cspan class=\"line\"\u003e  \u003cspan class=\"hljs-keyword\"\u003eprotected\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003evoid\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003edoFilterInternal\u003c/span\u003e\u003cspan class=\"hljs-params\"\u003e(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain)\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003ethrows\u003c/span\u003e ServletException, IOException {  \u003c/span\u003e\u003cspan class=\"line\"\u003e    \u003cspan class=\"hljs-type\"\u003eAuthentication\u003c/span\u003e \u003cspan class=\"hljs-variable\"\u003eauthentication\u003c/span\u003e \u003cspan class=\"hljs-operator\"\u003e=\u003c/span\u003e SecurityContextHolder.getContext().getAuthentication();  \u003c/span\u003e\u003cspan class=\"line\"\u003e    \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (\u003cspan class=\"hljs-literal\"\u003enull\u003c/span\u003e != authentication) {  \u003c/span\u003e\u003cspan class=\"line\"\u003e      \u003cspan class=\"hljs-type\"\u003eSecretKey\u003c/span\u003e \u003cspan class=\"hljs-variable\"\u003esecretKey\u003c/span\u003e \u003cspan class=\"hljs-operator\"\u003e=\u003c/span\u003e Keys.hmacShaKeyFor(JwtProperties.getSecretKey().getBytes());  \u003c/span\u003e\u003cspan class=\"line\"\u003e      \u003cspan class=\"hljs-type\"\u003eString\u003c/span\u003e \u003cspan class=\"hljs-variable\"\u003ejwt\u003c/span\u003e \u003cspan class=\"hljs-operator\"\u003e=\u003c/span\u003e Jwts.builder()  \u003c/span\u003e\u003cspan class=\"line\"\u003e        .issuer(\u003cspan class=\"hljs-string\"\u003e\u0026quot;EasyBank\u0026quot;\u003c/span\u003e)  \u003c/span\u003e\u003cspan class=\"line\"\u003e        .subject(\u003cspan class=\"hljs-string\"\u003e\u0026quot;JWT Token\u0026quot;\u003c/span\u003e)  \u003c/span\u003e\u003cspan class=\"line\"\u003e        .claim(\u003cspan class=\"hljs-string\"\u003e\u0026quot;username\u0026quot;\u003c/span\u003e, authentication.getName())  \u003c/span\u003e\u003cspan class=\"line\"\u003e        .claim(\u003cspan class=\"hljs-string\"\u003e\u0026quot;authorities\u0026quot;\u003c/span\u003e, populateAuthorities(authentication))  \u003c/span\u003e\u003cspan class=\"line\"\u003e        .issuedAt(\u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eDate\u003c/span\u003e())  \u003c/span\u003e\u003cspan class=\"line\"\u003e        .expiration(\u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eDate\u003c/span\u003e(System.currentTimeMillis() + (JwtProperties.getExpirationMinuteTime() * \u003cspan class=\"hljs-number\"\u003e60\u003c/span\u003e * \u003cspan class=\"hljs-number\"\u003e1000\u003c/span\u003e)))  \u003c/span\u003e\u003cspan class=\"line\"\u003e        .signWith(secretKey)  \u003c/span\u003e\u003cspan class=\"line\"\u003e        .compact();  \u003c/span\u003e\u003cspan class=\"line\"\u003e  \u003c/span\u003e\u003cspan class=\"line\"\u003e      response.addHeader(JwtProperties.getHeaderString(), JwtProperties.getTokenPrefix() + jwt);  \u003c/span\u003e\u003cspan class=\"line\"\u003e  \u003c/span\u003e\u003cspan class=\"line\"\u003e      filterChain.doFilter(request, response);  \u003c/span\u003e\u003cspan class=\"line\"\u003e    }  \u003c/span\u003e\u003cspan class=\"line\"\u003e  \u003c/span\u003e\u003cspan class=\"line\"\u003e  }  \u003c/span\u003e\u003cspan class=\"line\"\u003e\u0026nbsp;\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"hljs-comment\"\u003e// ë¡œê·¸ì¸ í• ë•Œë§Œ í•´ë‹¹ í•„í„°ë¥¼ íƒ€ë„ë¡ ì„¤ì •\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e  \u003cspan class=\"hljs-meta\"\u003e@Override\u003c/span\u003e  \u003c/span\u003e\u003cspan class=\"line\"\u003e  \u003cspan class=\"hljs-keyword\"\u003eprotected\u003c/span\u003e \u003cspan class=\"hljs-type\"\u003eboolean\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003eshouldNotFilter\u003c/span\u003e\u003cspan class=\"hljs-params\"\u003e(HttpServletRequest request)\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003ethrows\u003c/span\u003e ServletException {  \u003c/span\u003e\u003cspan class=\"line\"\u003e    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e !request.getServletPath().equals(\u003cspan class=\"hljs-string\"\u003e\u0026quot;/login\u0026quot;\u003c/span\u003e);  \u003c/span\u003e\u003cspan class=\"line\"\u003e  }  \u003c/span\u003e\u003cspan class=\"line\"\u003e  \u003c/span\u003e\u003cspan class=\"line\"\u003e  \u003cspan class=\"hljs-keyword\"\u003eprivate\u003c/span\u003e String \u003cspan class=\"hljs-title function_\"\u003epopulateAuthorities\u003c/span\u003e\u003cspan class=\"hljs-params\"\u003e(Authentication authentication)\u003c/span\u003e {  \u003c/span\u003e\u003cspan class=\"line\"\u003e    Set\u0026lt;String\u0026gt; authorities = authentication.getAuthorities().stream()  \u003c/span\u003e\u003cspan class=\"line\"\u003e      .map(grantedAuthority -\u0026gt; grantedAuthority.getAuthority())  \u003c/span\u003e\u003cspan class=\"line\"\u003e      .collect(Collectors.toSet());  \u003c/span\u003e\u003cspan class=\"line\"\u003e    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e String.join(\u003cspan class=\"hljs-string\"\u003e\u0026quot;,\u0026quot;\u003c/span\u003e, authorities);  \u003c/span\u003e\u003cspan class=\"line\"\u003e  }  \u003c/span\u003e\u003cspan class=\"line\"\u003e}\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n        \u003c/div\u003e\n      \n\u003ch2 style=\"color: #C3E88D;\"\u003e\n                  \u003cspan style=\"font-size: initial; color: #F0C292; margin-right: 0.5em;\"\u003eh2\u003c/span\u003e\n                  Auth0 ë¼ì´ë¸ŒëŸ¬ë¦¬ JWT ì‚¬ìš©\n                \u003c/h2\u003e\n\n        \u003cdiv class=\"custom-code-block\"\u003e\n          \n        \u003cdiv class=\"custom-code-block-header\"\u003e\n          \u003cdiv class=\"custom-code-block-header-left\"\u003e\n            \u003cdiv class=\"custom-code-block-lang\"\u003e\n              \u003cspan class=\"custom-code-block-icon\"\u003e\u003csvg role=\"img\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"\u003e\u003ctitle\u003eXML\u003c/title\u003e\u003cpath d=\"M13.4 3l-2.8 18 2.8 0 2.8-18h-2.8zM6.4 6l-3.8 6 3.8 6 2.2 0-3.8-6 3.8-6-2.2 0zM21.4 6l-3.8 6 3.8 6 2.2 0-3.8-6 3.8-6-2.2 0z\"/\u003e\u003c/svg\u003e\u003c/span\u003e\n              \u003cspan class=\"custom-code-block-lang-text\"\u003exml\u003c/span\u003e\n            \u003c/div\u003e\n            \n          \u003c/div\u003e\n          \u003cdiv class=\"custom-code-block-header-right\"\u003e\n            \u003cdiv class=\"custom-code-block-actions\"\u003e\n              \u003cbutton class=\"copy-code-button\" title=\"Copy code\"\u003e\n                \u003csvg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"\u003e\u003crect x=\"9\" y=\"9\" width=\"13\" height=\"13\" rx=\"2\" ry=\"2\"\u003e\u003c/rect\u003e\u003cpath d=\"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1\"\u003e\u003c/path\u003e\u003c/svg\u003e\n              \u003c/button\u003e\n            \u003c/div\u003e\n          \u003c/div\u003e\n        \u003c/div\u003e\n      \n          \u003cpre\u003e\u003ccode class=\"language-xml hljs\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003edependency\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"hljs-comment\"\u003e\u0026lt;!-- JWT Token --\u0026gt;\u003c/span\u003e  \u003c/span\u003e\u003cspan class=\"line\"\u003e    \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003egroupId\u003c/span\u003e\u0026gt;\u003c/span\u003ecom.auth0\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003egroupId\u003c/span\u003e\u0026gt;\u003c/span\u003e  \u003c/span\u003e\u003cspan class=\"line\"\u003e    \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eartifactId\u003c/span\u003e\u0026gt;\u003c/span\u003ejava-jwt\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eartifactId\u003c/span\u003e\u0026gt;\u003c/span\u003e  \u003c/span\u003e\u003cspan class=\"line\"\u003e    \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eversion\u003c/span\u003e\u0026gt;\u003c/span\u003e3.18.2\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eversion\u003c/span\u003e\u0026gt;\u003c/span\u003e  \u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003edependency\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n        \u003c/div\u003e\n      \n\n        \u003cdiv class=\"custom-code-block\"\u003e\n          \n        \u003cdiv class=\"custom-code-block-header\"\u003e\n          \u003cdiv class=\"custom-code-block-header-left\"\u003e\n            \u003cdiv class=\"custom-code-block-lang\"\u003e\n              \u003cspan class=\"custom-code-block-icon\"\u003e\u003csvg xmlns=\"http://www.w3.org/2000/svg\"  viewBox=\"0 0 50 50\" width=\"50px\" height=\"50px\"\u003e\u003ctitle\u003eJava\u003c/title\u003e\u003cpath d=\"M 28.1875 0 C 30.9375 6.363281 18.328125 10.292969 17.15625 15.59375 C 16.082031 20.464844 24.648438 26.125 24.65625 26.125 C 23.355469 24.109375 22.398438 22.449219 21.09375 19.3125 C 18.886719 14.007813 34.535156 9.207031 28.1875 0 Z M 36.5625 8.8125 C 36.5625 8.8125 25.5 9.523438 24.9375 16.59375 C 24.6875 19.742188 27.847656 21.398438 27.9375 23.6875 C 28.011719 25.558594 26.0625 27.125 26.0625 27.125 C 26.0625 27.125 29.609375 26.449219 30.71875 23.59375 C 31.949219 20.425781 28.320313 18.285156 28.6875 15.75 C 29.039063 13.324219 36.5625 8.8125 36.5625 8.8125 Z M 19.1875 25.15625 C 19.1875 25.15625 9.0625 25.011719 9.0625 27.875 C 9.0625 30.867188 22.316406 31.089844 31.78125 29.25 C 31.78125 29.25 34.296875 27.519531 34.96875 26.875 C 28.765625 28.140625 14.625 28.28125 14.625 27.1875 C 14.625 26.179688 19.1875 25.15625 19.1875 25.15625 Z M 38.65625 25.15625 C 37.664063 25.234375 36.59375 25.617188 35.625 26.3125 C 37.90625 25.820313 39.84375 27.234375 39.84375 28.84375 C 39.84375 32.46875 34.59375 35.875 34.59375 35.875 C 34.59375 35.875 42.71875 34.953125 42.71875 29 C 42.71875 26.296875 40.839844 24.984375 38.65625 25.15625 Z M 16.75 30.71875 C 15.195313 30.71875 12.875 31.9375 12.875 33.09375 C 12.875 35.417969 24.5625 37.207031 33.21875 33.8125 L 30.21875 31.96875 C 24.351563 33.847656 13.546875 33.234375 16.75 30.71875 Z M 18.1875 35.9375 C 16.058594 35.9375 14.65625 37.222656 14.65625 38.1875 C 14.65625 41.171875 27.371094 41.472656 32.40625 38.4375 L 29.21875 36.40625 C 25.457031 37.996094 16.015625 38.238281 18.1875 35.9375 Z M 11.09375 38.625 C 7.625 38.554688 5.375 40.113281 5.375 41.40625 C 5.375 48.28125 40.875 47.964844 40.875 40.9375 C 40.875 39.769531 39.527344 39.203125 39.03125 38.9375 C 41.933594 45.65625 9.96875 45.121094 9.96875 41.15625 C 9.96875 40.253906 12.320313 39.390625 14.5 39.8125 L 12.65625 38.75 C 12.113281 38.667969 11.589844 38.636719 11.09375 38.625 Z M 44.625 43.25 C 39.226563 48.367188 25.546875 50.222656 11.78125 47.0625 C 25.542969 52.695313 44.558594 49.535156 44.625 43.25 Z\"/\u003e\u003c/svg\u003e\u003c/span\u003e\n              \u003cspan class=\"custom-code-block-lang-text\"\u003ejava\u003c/span\u003e\n            \u003c/div\u003e\n            \n          \u003c/div\u003e\n          \u003cdiv class=\"custom-code-block-header-right\"\u003e\n            \u003cdiv class=\"custom-code-block-actions\"\u003e\n              \u003cbutton class=\"copy-code-button\" title=\"Copy code\"\u003e\n                \u003csvg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"\u003e\u003crect x=\"9\" y=\"9\" width=\"13\" height=\"13\" rx=\"2\" ry=\"2\"\u003e\u003c/rect\u003e\u003cpath d=\"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1\"\u003e\u003c/path\u003e\u003c/svg\u003e\n              \u003c/button\u003e\n            \u003c/div\u003e\n          \u003c/div\u003e\n        \u003c/div\u003e\n      \n          \u003cpre\u003e\u003ccode class=\"language-java hljs\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"hljs-keyword\"\u003epublic\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eJwtUtil\u003c/span\u003e {  \u003c/span\u003e\u003cspan class=\"line\"\u003e    \u003cspan class=\"hljs-keyword\"\u003epublic\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003estatic\u003c/span\u003e String \u003cspan class=\"hljs-title function_\"\u003ecreate\u003c/span\u003e\u003cspan class=\"hljs-params\"\u003e(String subject, Long expirationMinuteTime, String secretKey, Map\u0026lt;String, String\u0026gt; claim)\u003c/span\u003e{  \u003c/span\u003e\u003cspan class=\"line\"\u003e        JWTCreator.\u003cspan class=\"hljs-type\"\u003eBuilder\u003c/span\u003e \u003cspan class=\"hljs-variable\"\u003ebuilder\u003c/span\u003e \u003cspan class=\"hljs-operator\"\u003e=\u003c/span\u003eJWT.create()  \u003c/span\u003e\u003cspan class=\"line\"\u003e                .withSubject(subject)  \u003c/span\u003e\u003cspan class=\"line\"\u003e                .withExpiresAt(\u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eDate\u003c/span\u003e(System.currentTimeMillis()+ (\u003cspan class=\"hljs-number\"\u003e1000L\u003c/span\u003e * \u003cspan class=\"hljs-number\"\u003e60\u003c/span\u003e * expirationMinuteTime) )); \u003cspan class=\"hljs-comment\"\u003e//ë§Œë£Œ ì‹œê°„ milliSecond 1/1000ì´ˆ 30ë¶„ìœ¼ë¡œ ì„¤ì •í•¨  \u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e        claim.forEach(builder::withClaim);  \u003c/span\u003e\u003cspan class=\"line\"\u003e        \u003cspan class=\"hljs-type\"\u003eString\u003c/span\u003e \u003cspan class=\"hljs-variable\"\u003ejwtToken\u003c/span\u003e \u003cspan class=\"hljs-operator\"\u003e=\u003c/span\u003e builder.sign( Algorithm.HMAC512(secretKey) ); \u003cspan class=\"hljs-comment\"\u003e//ì„œë²„ë§Œ ì•„ëŠ” ê³ ìœ í•œ ê°’ìœ¼ë¡œ ì„¤ì •  \u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e  \u003c/span\u003e\u003cspan class=\"line\"\u003e        \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e jwtToken;  \u003c/span\u003e\u003cspan class=\"line\"\u003e    }  \u003c/span\u003e\u003cspan class=\"line\"\u003e}\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n        \u003c/div\u003e\n      \n\u003cblockquote\u003e\n\u003cp\u003eJWT ìƒì„± ë°©ë²•\u003c/p\u003e\n\u003c/blockquote\u003e\n\n        \u003cdiv class=\"custom-code-block\"\u003e\n          \n        \u003cdiv class=\"custom-code-block-header\"\u003e\n          \u003cdiv class=\"custom-code-block-header-left\"\u003e\n            \u003cdiv class=\"custom-code-block-lang\"\u003e\n              \u003cspan class=\"custom-code-block-icon\"\u003e\u003csvg xmlns=\"http://www.w3.org/2000/svg\"  viewBox=\"0 0 50 50\" width=\"50px\" height=\"50px\"\u003e\u003ctitle\u003eJava\u003c/title\u003e\u003cpath d=\"M 28.1875 0 C 30.9375 6.363281 18.328125 10.292969 17.15625 15.59375 C 16.082031 20.464844 24.648438 26.125 24.65625 26.125 C 23.355469 24.109375 22.398438 22.449219 21.09375 19.3125 C 18.886719 14.007813 34.535156 9.207031 28.1875 0 Z M 36.5625 8.8125 C 36.5625 8.8125 25.5 9.523438 24.9375 16.59375 C 24.6875 19.742188 27.847656 21.398438 27.9375 23.6875 C 28.011719 25.558594 26.0625 27.125 26.0625 27.125 C 26.0625 27.125 29.609375 26.449219 30.71875 23.59375 C 31.949219 20.425781 28.320313 18.285156 28.6875 15.75 C 29.039063 13.324219 36.5625 8.8125 36.5625 8.8125 Z M 19.1875 25.15625 C 19.1875 25.15625 9.0625 25.011719 9.0625 27.875 C 9.0625 30.867188 22.316406 31.089844 31.78125 29.25 C 31.78125 29.25 34.296875 27.519531 34.96875 26.875 C 28.765625 28.140625 14.625 28.28125 14.625 27.1875 C 14.625 26.179688 19.1875 25.15625 19.1875 25.15625 Z M 38.65625 25.15625 C 37.664063 25.234375 36.59375 25.617188 35.625 26.3125 C 37.90625 25.820313 39.84375 27.234375 39.84375 28.84375 C 39.84375 32.46875 34.59375 35.875 34.59375 35.875 C 34.59375 35.875 42.71875 34.953125 42.71875 29 C 42.71875 26.296875 40.839844 24.984375 38.65625 25.15625 Z M 16.75 30.71875 C 15.195313 30.71875 12.875 31.9375 12.875 33.09375 C 12.875 35.417969 24.5625 37.207031 33.21875 33.8125 L 30.21875 31.96875 C 24.351563 33.847656 13.546875 33.234375 16.75 30.71875 Z M 18.1875 35.9375 C 16.058594 35.9375 14.65625 37.222656 14.65625 38.1875 C 14.65625 41.171875 27.371094 41.472656 32.40625 38.4375 L 29.21875 36.40625 C 25.457031 37.996094 16.015625 38.238281 18.1875 35.9375 Z M 11.09375 38.625 C 7.625 38.554688 5.375 40.113281 5.375 41.40625 C 5.375 48.28125 40.875 47.964844 40.875 40.9375 C 40.875 39.769531 39.527344 39.203125 39.03125 38.9375 C 41.933594 45.65625 9.96875 45.121094 9.96875 41.15625 C 9.96875 40.253906 12.320313 39.390625 14.5 39.8125 L 12.65625 38.75 C 12.113281 38.667969 11.589844 38.636719 11.09375 38.625 Z M 44.625 43.25 C 39.226563 48.367188 25.546875 50.222656 11.78125 47.0625 C 25.542969 52.695313 44.558594 49.535156 44.625 43.25 Z\"/\u003e\u003c/svg\u003e\u003c/span\u003e\n              \u003cspan class=\"custom-code-block-lang-text\"\u003ejava\u003c/span\u003e\n            \u003c/div\u003e\n            \n          \u003c/div\u003e\n          \u003cdiv class=\"custom-code-block-header-right\"\u003e\n            \u003cdiv class=\"custom-code-block-actions\"\u003e\n              \u003cbutton class=\"copy-code-button\" title=\"Copy code\"\u003e\n                \u003csvg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"\u003e\u003crect x=\"9\" y=\"9\" width=\"13\" height=\"13\" rx=\"2\" ry=\"2\"\u003e\u003c/rect\u003e\u003cpath d=\"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1\"\u003e\u003c/path\u003e\u003c/svg\u003e\n              \u003c/button\u003e\n            \u003c/div\u003e\n          \u003c/div\u003e\n        \u003c/div\u003e\n      \n          \u003cpre\u003e\u003ccode class=\"language-java hljs\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"hljs-type\"\u003eString\u003c/span\u003e \u003cspan class=\"hljs-variable\"\u003ejwtToken\u003c/span\u003e \u003cspan class=\"hljs-operator\"\u003e=\u003c/span\u003e request.getHeader(jwtProperties.getHeaderString()).replace(jwtProperties.getTokenPrefix(), \u003cspan class=\"hljs-string\"\u003e\u0026quot;\u0026quot;\u003c/span\u003e);  \u003c/span\u003e\u003cspan class=\"line\"\u003e            \u003cspan class=\"hljs-type\"\u003eDecodedJWT\u003c/span\u003e \u003cspan class=\"hljs-variable\"\u003edecodedJWT\u003c/span\u003e \u003cspan class=\"hljs-operator\"\u003e=\u003c/span\u003e JWT.require(Algorithm.HMAC512(jwtProperties.getSecretKey())).build().verify(jwtToken);  \u003c/span\u003e\u003cspan class=\"line\"\u003e            \u003cspan class=\"hljs-comment\"\u003e// ì´ê±° ë§Œë£Œ ì œëŒ€ë¡œ ë˜ëŠ”ì§€ë¥¼ ëª¨ë¥´ê² ëŠ”ë°  \u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"hljs-comment\"\u003e//            decodedJWT.getExpiresAt()  \u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e            \u003cspan class=\"hljs-type\"\u003eString\u003c/span\u003e \u003cspan class=\"hljs-variable\"\u003eusername\u003c/span\u003e \u003cspan class=\"hljs-operator\"\u003e=\u003c/span\u003e decodedJWT.getClaim(\u003cspan class=\"hljs-string\"\u003e\u0026quot;username\u0026quot;\u003c/span\u003e).asString();  \u003c/span\u003e\u003cspan class=\"line\"\u003e            \u003cspan class=\"hljs-comment\"\u003e//ì„œëª…ì´ ì •ìƒì ìœ¼ë¡œ ë¨  \u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e            \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e( username != \u003cspan class=\"hljs-literal\"\u003enull\u003c/span\u003e ){  \u003c/span\u003e\u003cspan class=\"line\"\u003e                \u003cspan class=\"hljs-type\"\u003eUser\u003c/span\u003e \u003cspan class=\"hljs-variable\"\u003euser\u003c/span\u003e \u003cspan class=\"hljs-operator\"\u003e=\u003c/span\u003e userRepository.findByUsername(username);  \u003c/span\u003e\u003cspan class=\"line\"\u003e  \u003c/span\u003e\u003cspan class=\"line\"\u003e                \u003cspan class=\"hljs-type\"\u003ePrincipalDetails\u003c/span\u003e \u003cspan class=\"hljs-variable\"\u003eprincipalDetails\u003c/span\u003e \u003cspan class=\"hljs-operator\"\u003e=\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003ePrincipalDetails\u003c/span\u003e(user);  \u003c/span\u003e\u003cspan class=\"line\"\u003e                \u003cspan class=\"hljs-comment\"\u003e//JWT í† í° ì„œëª…ì„ í†µí•´ì„œ ì„œëª…ì´ ì •ìƒì´ë©´ Authentication ê°ì²´ ìƒì„±  \u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e                \u003cspan class=\"hljs-comment\"\u003e//2ë²ˆì§¸ ì¸ìëŠ” ë¹„ë°€ë²ˆí˜¸ ì¸ë°  \u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e                \u003cspan class=\"hljs-type\"\u003eAuthentication\u003c/span\u003e \u003cspan class=\"hljs-variable\"\u003eauthentication\u003c/span\u003e \u003cspan class=\"hljs-operator\"\u003e=\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eUsernamePasswordAuthenticationToken\u003c/span\u003e(principalDetails, \u003cspan class=\"hljs-literal\"\u003enull\u003c/span\u003e, principalDetails.getAuthorities());  \u003c/span\u003e\u003cspan class=\"line\"\u003e                \u003cspan class=\"hljs-comment\"\u003e//Security Session  \u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e                \u003cspan class=\"hljs-comment\"\u003e//ê°•ì œë¡œ ì‹œíë¦¬í‹° ì„¸ì…˜ì— ì ‘ê·¼í•˜ì—¬ Authentication ê°ì²´ë¥¼ ì €ì¥  \u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e                SecurityContextHolder.getContext().setAuthentication(authentication);  \u003c/span\u003e\u003cspan class=\"line\"\u003e  \u003c/span\u003e\u003cspan class=\"line\"\u003e                \u003cspan class=\"hljs-type\"\u003eString\u003c/span\u003e \u003cspan class=\"hljs-variable\"\u003etoken_ip\u003c/span\u003e \u003cspan class=\"hljs-operator\"\u003e=\u003c/span\u003e decodedJWT.getClaim(\u003cspan class=\"hljs-string\"\u003e\u0026quot;ip\u0026quot;\u003c/span\u003e).asString();  \u003c/span\u003e\u003cspan class=\"line\"\u003e                \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e( xsConfig.getConsoleConfig().isJwtIpCheckYn() \u0026amp;\u0026amp; !WebUtil.getIp(request).equals(token_ip) ){  \u003c/span\u003e\u003cspan class=\"line\"\u003e                    \u003cspan class=\"hljs-keyword\"\u003ethrow\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eInvalidClaimException\u003c/span\u003e(String.format(\u003cspan class=\"hljs-string\"\u003e\u0026quot;The Claim \u0026#x27;%s\u0026#x27; value doesn\u0026#x27;t match the required one.\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;ip\u0026quot;\u003c/span\u003e));  \u003c/span\u003e\u003cspan class=\"line\"\u003e                }  \u003c/span\u003e\u003cspan class=\"line\"\u003e                {   \u003cspan class=\"hljs-comment\"\u003e//ê°•ì œë¡œ ì¬ê°±ì‹  ë¡œì§ì„ ì¶”ê°€  \u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e                    Map\u0026lt;String, String\u0026gt; claim = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eHashMap\u003c/span\u003e\u0026lt;\u0026gt;();  \u003c/span\u003e\u003cspan class=\"line\"\u003e                    claim.put( \u003cspan class=\"hljs-string\"\u003e\u0026quot;id\u0026quot;\u003c/span\u003e, principalDetails.getUser().getId().toString() );  \u003c/span\u003e\u003cspan class=\"line\"\u003e                    claim.put( \u003cspan class=\"hljs-string\"\u003e\u0026quot;username\u0026quot;\u003c/span\u003e, principalDetails.getUser().getUsername() );  \u003c/span\u003e\u003cspan class=\"line\"\u003e                    \u003cspan class=\"hljs-type\"\u003eString\u003c/span\u003e \u003cspan class=\"hljs-variable\"\u003eip\u003c/span\u003e \u003cspan class=\"hljs-operator\"\u003e=\u003c/span\u003e WebUtil.getIp(request);  \u003c/span\u003e\u003cspan class=\"line\"\u003e                    claim.put( \u003cspan class=\"hljs-string\"\u003e\u0026quot;ip\u0026quot;\u003c/span\u003e, ip );  \u003c/span\u003e\u003cspan class=\"line\"\u003e                    \u003cspan class=\"hljs-type\"\u003eString\u003c/span\u003e \u003cspan class=\"hljs-variable\"\u003enewJwtToken\u003c/span\u003e \u003cspan class=\"hljs-operator\"\u003e=\u003c/span\u003e JwtUtil.create(principalDetails.getUsername(), jwtProperties.getExpirationMinuteTime(), jwtProperties.getSecretKey(), claim);  \u003c/span\u003e\u003cspan class=\"line\"\u003e  \u003c/span\u003e\u003cspan class=\"line\"\u003e                    \u003cspan class=\"hljs-comment\"\u003e// í´ë¼ì´ì–¸íŠ¸ì—ê²Œ JWT í† í°ì„ ì „ë‹¬  \u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e                    response.addHeader(jwtProperties.getHeaderString(), jwtProperties.getTokenPrefix() + newJwtToken);  \u003c/span\u003e\u003cspan class=\"line\"\u003e                }  \u003c/span\u003e\u003cspan class=\"line\"\u003e            }\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n        \u003c/div\u003e\n      \n\u003cblockquote\u003e\n\u003cp\u003eJWT ê²€ì¦ ë°©ë²•\u003c/p\u003e\n\u003c/blockquote\u003e\n"])</script><script>self.__next_f.push([1,"15:T220a,"])</script><script>self.__next_f.push([1,"---\naliases:\n  - JWT\n  - JWT(JSON Web Token)\ntags:\n  - Spring\n  - Spring/Security\níŠ¹ì§•: \n---\n# JWT(JSON Web Token)\n\n## JSESSIONID ë‹¨ì \ní† í°ì— ìœ ì € ë°ì´í„°ë¥¼ ë„£ì„ ìˆ˜ ì—†ìŒ\nJSESSIONID í›”ì¹˜ê¸° ê°€ëŠ¥ (JWT ë˜í•œ í›”ì¹  ìˆ˜ ìˆëŠ”ë°?)\n## í† í°ì˜ ì¥ì \nìê²© ì¦ëª…ì„ ë°˜ë³µí•´ì„œ ê³µìœ í•˜ì§€ ì•Šì•„ë„ ë˜ë¯€ë¡œ ë³´ì•ˆì ì¸ ì´ì \ní•´ì»¤ê°€ í† í°ì„ íƒˆì·¨í•´ë„ í† í°ì„ ë¬´íš¨í™”ì‹œí‚¬ ìˆ˜ ìˆì–´ì„œ ë³´ì•ˆì— ìœ ë¦¬ (? ëˆ„ê°€ ë“¤ìœ¼ë©´ JSESSIONID ëŠ” ë¬´íš¨í™” ì•ˆë˜ëŠ”ì§€ ì•Œê² ë„¤)\ní† í°ì˜ ìˆ˜ëª… ì„¤ì • ê°€ëŠ¥ ë° ì¬ì‚¬ìš© ê°€ëŠ¥\në¬´ìƒíƒœ ìœ ì§€ ê°€ëŠ¥\në‹¨ìˆœí•˜ê²Œ ë¬´ìƒíƒœ ìœ ì§€ì™€ í† í°ì˜ ë°œí–‰ìê°€ ì„œë²„ë¼ëŠ” ê²ƒì„ ì¦ëª…ê°€ëŠ¥í•œ ê²ƒ\n## JWT í† í°ì˜ ë‚´ë¶€ êµ¬ì¡°\n`aaaaaaa.bbbbbbb.ccccc`\naaa ë¡œ ëœ ë¶€ë¶„ì€ í—¤ë”(header) ë¶€ë¶„\nbbb ë¡œ ëœ ë¶€ë¶„ì€ ë‚´ìš©(payload) ë¶€ë¶„\nccc ë¡œ ëœ ë¶€ë¶„ì€ ì„œëª…(signature) ë¶€ë¶„ - í•´ë‹¹ ë¶€ë¶„ì€ ì„ íƒ ì‚¬í•­\n\nê° ë¶€ë¶„ì˜ êµ¬ë¶„ì€ `.` ì„ í†µí•´ì„œ êµ¬ë¶„\n`HMACSHA256(base64UrlEncode(header) + \".\" + base64UrlEncode(payload), secret)`\n\n### header \nì–´ë–¤ ì•Œê³ ë¦¬ì¦˜ì„ ì‚¬ìš©í•˜ëŠ”ì§€ \ní† í°ì˜ ì¢…ë¥˜ê°€ ë¬´ì—‡ì¸ì§€ \nJWT í† í°ì„ ìƒì„±í•˜ë©° ì‚¬ìš©ëœ í† í°ì˜ í˜•ì‹ì€ ì–´ë–¤ê²ƒì¸ì§€\në³´í†µ í•´ë‹¹ ë°ì´í„°ë¥¼ Base64 Encoded ë¥¼ ì§„í–‰í•˜ì—¬ ê°€ì¥ ì•ì— ë¶™ì„\n\n```json\n{\n\t\"alg\":\"HS256\",\n\t\"typ\":\"JWT\"\n}\n```\n\u003e í•´ë‹¹ ë°ì´í„°ë¥¼ Base64 ë¡œ ë³€í™˜í•˜ì—¬ header ìœ„ì¹˜ì— ë“±ë¡\n### payload \nìœ ì €ì— ëŒ€í•œ ì •ë³´ë¥¼ ì €ì¥ (ë„£ëŠ” ì‚¬ëŒì´ ë„£ê³  ì‹¶ì€ ë‚´ìš©ì„ ì‘ì„±)\n```json\n{\n\t\"sub\":\"12345\",\n\t\"name\":\"John Doe\",\n\t\"iat\":1516239022\n}\n```\n\u003e í•´ë‹¹ ë°ì´í„°ë¥¼ Base64 ë¡œ ë³€í™˜í•˜ì—¬ payload ìœ„ì¹˜ì— ë“±ë¡\n\n#### Registered Claim(ë“±ë¡ëœ í´ë ˆì„)\n- `iss`: í† í° ë°œê¸‰ì(issuer)\n- `sub`: í† í° ì œëª© (subject)\n- `aud`: í† í° ëŒ€ìƒì (audience)\n- `exp`: í† í°ì˜ ë§Œë£Œì‹œê°„ (expiraton), ì‹œê°„ì€ NumericDate í˜•ì‹ìœ¼ë¡œ ë˜ì–´ìˆì–´ì•¼ í•˜ë©° (ì˜ˆ:Â 1480849147370) ì–¸ì œë‚˜ í˜„ì¬ ì‹œê°„ë³´ë‹¤ ì´í›„ë¡œ ì„¤ì •ë˜ì–´ìˆì–´ì•¼í•©ë‹ˆë‹¤.\n- `nbf`: Not Before ë¥¼ ì˜ë¯¸í•˜ë©°, í† í°ì˜ í™œì„± ë‚ ì§œì™€ ë¹„ìŠ·í•œ ê°œë…ì…ë‹ˆë‹¤. ì—¬ê¸°ì—ë„ NumericDate í˜•ì‹ìœ¼ë¡œ ë‚ ì§œë¥¼ ì§€ì •í•˜ë©°, ì´ ë‚ ì§œê°€ ì§€ë‚˜ê¸° ì „ê¹Œì§€ëŠ” í† í°ì´ ì²˜ë¦¬ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.\n- `iat`: í† í°ì´ ë°œê¸‰ëœ ì‹œê°„ (issued at), ì´ ê°’ì„ ì‚¬ìš©í•˜ì—¬ í† í°ì˜Â `age`Â ê°€ ì–¼ë§ˆë‚˜ ë˜ì—ˆëŠ”ì§€ íŒë‹¨ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n- `jti`:Â JWTì˜ ê³ ìœ  ì‹ë³„ìë¡œì„œ, ì£¼ë¡œ ì¤‘ë³µì ì¸ ì²˜ë¦¬ë¥¼ ë°©ì§€í•˜ê¸° ìœ„í•˜ì—¬ ì‚¬ìš©ë©ë‹ˆë‹¤. ì¼íšŒìš© í† í°ì— ì‚¬ìš©í•˜ë©´ ìœ ìš©í•©ë‹ˆë‹¤.\n### signature \nì„œëª… ê°’ì„ ë“±ë¡í•´ì„œ ë³´ë‚¼ ê²½ìš° ë‚´ë¶€ ê°’ì„ í•´ì‹œê°’ì— ì˜í•´ ë³´í˜¸ ë¨ìœ¼ë¡œ ìˆ˜ì •í•´ë„ ì˜ë¯¸ê°€ ì—†ê¸° ë•Œë¬¸ì— ë³´ì•ˆì ìœ¼ë¡œ ì•ˆì „\n\n## jjwt ë¼ì´ë¸ŒëŸ¬ë¦¬ JWT ì„¤ì •\n```xml\n\u003cdependency\u003e  \n    \u003cgroupId\u003eio.jsonwebtoken\u003c/groupId\u003e  \n    \u003cartifactId\u003ejjwt-api\u003c/artifactId\u003e  \n    \u003cversion\u003e0.12.3\u003c/version\u003e  \n\u003c/dependency\u003e  \n\u003cdependency\u003e  \n    \u003cgroupId\u003eio.jsonwebtoken\u003c/groupId\u003e  \n    \u003cartifactId\u003ejjwt-impl\u003c/artifactId\u003e  \n    \u003cversion\u003e0.12.3\u003c/version\u003e  \n    \u003cscope\u003eruntime\u003c/scope\u003e  \n\u003c/dependency\u003e  \n\u003cdependency\u003e  \n    \u003cgroupId\u003eio.jsonwebtoken\u003c/groupId\u003e  \n    \u003cartifactId\u003ejjwt-jackson\u003c/artifactId\u003e  \n    \u003cversion\u003e0.12.3\u003c/version\u003e  \n\u003c/dependency\u003e\n```\n\u003e pom.xml\n\n```java\n@EnableWebSecurity\n@Configuration  \npublic class SecurityConfig {  \n  @Bean  \n  SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {  \n  ...\n  http.sessionManagement(sessionManagement -\u003e sessionManagement.sessionCreationPolicy(SessionCreationPolicy.STATELESS));\n  ...\n  }\n  ...\n  public CorsConfiguration corsConfiguration() {  \n    CorsConfiguration corsConfig = new CorsConfiguration();  \n    ...\n    // JWT í† í°ì„ ì‚¬ìš©í•˜ê¸° ìœ„í•´ Authorization í—¤ë”ë¥¼ ë…¸ì¶œì‹œí‚´  \n    corsConfig.setExposedHeaders(List.of(\"Authorization\"));  \n    return corsConfig;\n  }\n}\n```\n\u003e session ë¶ˆí•„ìš”, Authorization í—¤ë” ë°›ëŠ” ê²ƒì„ í—ˆìš©\n\n```java\n@Slf4j  \npublic class JWTTokenGeneratorFilter extends OncePerRequestFilter {  \n  @Override  \n  protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {  \n    Authentication authentication = SecurityContextHolder.getContext().getAuthentication();  \n    if (null != authentication) {  \n      SecretKey secretKey = Keys.hmacShaKeyFor(JwtProperties.getSecretKey().getBytes());  \n      String jwt = Jwts.builder()  \n        .issuer(\"EasyBank\")  \n        .subject(\"JWT Token\")  \n        .claim(\"username\", authentication.getName())  \n        .claim(\"authorities\", populateAuthorities(authentication))  \n        .issuedAt(new Date())  \n        .expiration(new Date(System.currentTimeMillis() + (JwtProperties.getExpirationMinuteTime() * 60 * 1000)))  \n        .signWith(secretKey)  \n        .compact();  \n  \n      response.addHeader(JwtProperties.getHeaderString(), JwtProperties.getTokenPrefix() + jwt);  \n  \n      filterChain.doFilter(request, response);  \n    }  \n  \n  }  \n\n// ë¡œê·¸ì¸ í• ë•Œë§Œ í•´ë‹¹ í•„í„°ë¥¼ íƒ€ë„ë¡ ì„¤ì •\n  @Override  \n  protected boolean shouldNotFilter(HttpServletRequest request) throws ServletException {  \n    return !request.getServletPath().equals(\"/login\");  \n  }  \n  \n  private String populateAuthorities(Authentication authentication) {  \n    Set\u003cString\u003e authorities = authentication.getAuthorities().stream()  \n      .map(grantedAuthority -\u003e grantedAuthority.getAuthority())  \n      .collect(Collectors.toSet());  \n    return String.join(\",\", authorities);  \n  }  \n}\n```\n\n## Auth0 ë¼ì´ë¸ŒëŸ¬ë¦¬ JWT ì‚¬ìš©\n```xml\n\u003cdependency\u003e\u003c!-- JWT Token --\u003e  \n    \u003cgroupId\u003ecom.auth0\u003c/groupId\u003e  \n    \u003cartifactId\u003ejava-jwt\u003c/artifactId\u003e  \n    \u003cversion\u003e3.18.2\u003c/version\u003e  \n\u003c/dependency\u003e\n```\n\n```java\npublic class JwtUtil {  \n    public static String create(String subject, Long expirationMinuteTime, String secretKey, Map\u003cString, String\u003e claim){  \n        JWTCreator.Builder builder =JWT.create()  \n                .withSubject(subject)  \n                .withExpiresAt(new Date(System.currentTimeMillis()+ (1000L * 60 * expirationMinuteTime) )); //ë§Œë£Œ ì‹œê°„ milliSecond 1/1000ì´ˆ 30ë¶„ìœ¼ë¡œ ì„¤ì •í•¨  \n        claim.forEach(builder::withClaim);  \n        String jwtToken = builder.sign( Algorithm.HMAC512(secretKey) ); //ì„œë²„ë§Œ ì•„ëŠ” ê³ ìœ í•œ ê°’ìœ¼ë¡œ ì„¤ì •  \n  \n        return jwtToken;  \n    }  \n}\n```\n\u003e JWT ìƒì„± ë°©ë²•\n\n```java\nString jwtToken = request.getHeader(jwtProperties.getHeaderString()).replace(jwtProperties.getTokenPrefix(), \"\");  \n            DecodedJWT decodedJWT = JWT.require(Algorithm.HMAC512(jwtProperties.getSecretKey())).build().verify(jwtToken);  \n            // ì´ê±° ë§Œë£Œ ì œëŒ€ë¡œ ë˜ëŠ”ì§€ë¥¼ ëª¨ë¥´ê² ëŠ”ë°  \n//            decodedJWT.getExpiresAt()  \n            String username = decodedJWT.getClaim(\"username\").asString();  \n            //ì„œëª…ì´ ì •ìƒì ìœ¼ë¡œ ë¨  \n            if( username != null ){  \n                User user = userRepository.findByUsername(username);  \n  \n                PrincipalDetails principalDetails = new PrincipalDetails(user);  \n                //JWT í† í° ì„œëª…ì„ í†µí•´ì„œ ì„œëª…ì´ ì •ìƒì´ë©´ Authentication ê°ì²´ ìƒì„±  \n                //2ë²ˆì§¸ ì¸ìëŠ” ë¹„ë°€ë²ˆí˜¸ ì¸ë°  \n                Authentication authentication = new UsernamePasswordAuthenticationToken(principalDetails, null, principalDetails.getAuthorities());  \n                //Security Session  \n                //ê°•ì œë¡œ ì‹œíë¦¬í‹° ì„¸ì…˜ì— ì ‘ê·¼í•˜ì—¬ Authentication ê°ì²´ë¥¼ ì €ì¥  \n                SecurityContextHolder.getContext().setAuthentication(authentication);  \n  \n                String token_ip = decodedJWT.getClaim(\"ip\").asString();  \n                if( xsConfig.getConsoleConfig().isJwtIpCheckYn() \u0026\u0026 !WebUtil.getIp(request).equals(token_ip) ){  \n                    throw new InvalidClaimException(String.format(\"The Claim '%s' value doesn't match the required one.\", \"ip\"));  \n                }  \n                {   //ê°•ì œë¡œ ì¬ê°±ì‹  ë¡œì§ì„ ì¶”ê°€  \n                    Map\u003cString, String\u003e claim = new HashMap\u003c\u003e();  \n                    claim.put( \"id\", principalDetails.getUser().getId().toString() );  \n                    claim.put( \"username\", principalDetails.getUser().getUsername() );  \n                    String ip = WebUtil.getIp(request);  \n                    claim.put( \"ip\", ip );  \n                    String newJwtToken = JwtUtil.create(principalDetails.getUsername(), jwtProperties.getExpirationMinuteTime(), jwtProperties.getSecretKey(), claim);  \n  \n                    // í´ë¼ì´ì–¸íŠ¸ì—ê²Œ JWT í† í°ì„ ì „ë‹¬  \n                    response.addHeader(jwtProperties.getHeaderString(), jwtProperties.getTokenPrefix() + newJwtToken);  \n                }  \n            }\n```\n\u003e JWT ê²€ì¦ ë°©ë²•"])</script><script>self.__next_f.push([1,"5:[\"$\",\"div\",null,{\"className\":\"page_container__MI3fw\",\"children\":[\"$\",\"$L13\",null,{\"post\":{\"slug\":\"Spring/Security/JWT\",\"slugHash\":\"7ee1677e\",\"content\":\"$14\",\"markdownContent\":\"$15\",\"title\":\"JWT\",\"createdAt\":\"2025-09-12\",\"updatedAt\":\"2025-09-12\",\"tags\":[\"Spring\",\"Spring/Security\"],\"isPublished\":false,\"excerpt\":\"$undefined\",\"coverImgUrl\":\"$undefined\",\"aliases\":[\"JWT\",\"JWT(JSON Web Token)\"],\"noteUUID\":\"$undefined\"}}]}]\n"])</script><script>self.__next_f.push([1,"e:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"meta\",\"1\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}]]\n9:null\n"])</script><script>self.__next_f.push([1,"12:{\"metadata\":[[\"$\",\"title\",\"0\",{\"children\":\"ì„œë™ë¯¼ ê°œë°œ ë¸”ë¡œê·¸\"}],[\"$\",\"meta\",\"1\",{\"name\":\"description\",\"content\":\"ì„œë™ë¯¼ ê°œë°œ ë¸”ë¡œê·¸\"}],[\"$\",\"meta\",\"2\",{\"property\":\"og:title\",\"content\":\"ì„œë™ë¯¼ ê°œë°œ ë¸”ë¡œê·¸\"}],[\"$\",\"meta\",\"3\",{\"property\":\"og:description\",\"content\":\"ì„œë™ë¯¼ ê°œë°œ ë¸”ë¡œê·¸\"}],[\"$\",\"meta\",\"4\",{\"name\":\"twitter:card\",\"content\":\"summary\"}],[\"$\",\"meta\",\"5\",{\"name\":\"twitter:title\",\"content\":\"ì„œë™ë¯¼ ê°œë°œ ë¸”ë¡œê·¸\"}],[\"$\",\"meta\",\"6\",{\"name\":\"twitter:description\",\"content\":\"ì„œë™ë¯¼ ê°œë°œ ë¸”ë¡œê·¸\"}],[\"$\",\"link\",\"7\",{\"rel\":\"icon\",\"href\":\"/github-blog/favicon.ico\",\"type\":\"image/x-icon\",\"sizes\":\"16x16\"}]],\"error\":null,\"digest\":\"$undefined\"}\nc:{\"metadata\":\"$12:metadata\",\"error\":null,\"digest\":\"$undefined\"}\n"])</script></body></html>