---
aliases:
  - 준영속
  - 준영속 상태
tags:
  - Spring
  - Spring/용어
  - Spring/JPA
특징: 영속성 컨텍스트에서 관리되고 있는 엔티티를 영속성 컨텍스트 에서 삭제한 상태
---
# 준영속
- [[2.Ref(데이터 및 정보 저장)/Spring/JPA/Persistence|영속성 컨텍스트]]에서 관리되고 있는 엔티티를 [[2.Ref(데이터 및 정보 저장)/Spring/JPA/Persistence|영속성 컨텍스트]] 에서 삭제한 상태 
- 영속 -> 준영속
- 영속 상태의 [[2.Ref(데이터 및 정보 저장)/Spring/용어설명/Entity|Entity]]가 [[2.Ref(데이터 및 정보 저장)/Spring/JPA/Persistence|영속성 컨텍스트]]에서 분리(detached)
- 영속성 컨텍스트가 제공하는 기능을 사용 못함
## 준영속 상태 만드는 방법
- `em.detach(entity)`
	- 특정 엔티티만 준영속 상태로 전환
- `em.clear()`
	- 영속성 컨텍스트를 완전히 초기화
- `em.close()`
	- 영속성 컨텍스트를 종료
### 준영속 상태에서 영속상태로 저장하는 방법
- `em.merge()`
	- 모든 값을 다 대체해버리기 때문에 위험
- 다시 불러와서 영속상태의 값을 사용
